"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9528],{96597:(e,t,i)=>{i.d(t,{o:()=>T});var a=i(30758),s=i(6128),n=i(86560),r=i(62856),l=i(93395),o=i(64721),c=i(96930),d=i(65583),u=i(91825),p=i(17934),m=i(61214),h=i(62130),g=i(55285);const y="c5Ml9BbBuUEHjNkcSwZA";var x=i(86070);const b="70px",j=({adId:e,advertiser:t,tagline:i,displayImage:a,buttonMessage:s,cardOnClick:n,buttonOnClick:r,clickthroughUrl:l})=>(0,x.jsx)(g.N,{to:(0,h.H)(l),className:y,"data-testid":"leavebehind",children:(0,x.jsx)(c.v,{onClick:n,onClickHint:o.Ru.get("ad-formats.learnMore"),layout:"wide",variant:"tinted",id:e,size:"xl",title:(0,x.jsx)(d.d,{weight:"bold",variant:"ballad",lineClamp:1,"data-testid":"leavebehind-advertiser",children:t}),subtitle:(0,x.jsx)(u.j,{as:"div",lineClamp:2,"data-testid":"leavebehind-tagline",children:i}),media:(0,x.jsx)(p.C,{"data-testid":"leavebehind-image",src:a.src,alt:a.alt,imageHeight:b,imageWidth:b,size:"xl"}),trailing:(0,x.jsx)(m.$,{onClick:()=>{r&&r()},"data-testid":"leavebehind-button",colorSet:"invertedLight",size:"small","aria-label":o.Ru.get("ad-formats.learnMore"),children:s})})});var v=i(31761),k=i(96009),C=i(57016),P=i(84576);const f="zlUJfROzFEOsEDWL7ucP",I="Fxvq1Fw7XQdGRDvYokRg",T=({leavebehinds:e,seeAllButton:t,surface:i,uri:c})=>{const d=(0,P.vh)(),u=(0,C.w)(C.P),[p,m]=(0,a.useState)(void 0);(0,a.useEffect)((()=>{e&&e.length>0&&p!==e[0].requestId&&c&&(e.forEach(((e,t)=>{e.uri===c&&(e.trackingEvents?.viewed.forEach((async t=>{try{await u(t)}catch(a){const s=a;d.send((0,r.G)({error_type:"trackingURLFailure",error_message:s.message,http_error_code:422,surface:(0,v.Fh)(i),request_url:t,request_type:"leavebehindAds",lineitem_id:e.lineitemId,ad_content_origin:(0,k.Zl)(i)}))}})),d.send((0,l.x)({leavebehind_lineitem_id:e.lineitemId,leavebehind_request_id:e.requestId,event:"event_viewed",event_reason:`viewed_on_${(0,v.Fh)(i).toLowerCase()}`,surface:(0,v.Fh)(i),surface_position:t+1,uri:c})))})),m(e[0].requestId))}),[d,u,e,c,i,p]);const h=({eventReason:e,lineitemId:t,requestId:a,trackingEvents:s,surfacePosition:n})=>{((e,t)=>{t?.forEach((async t=>{try{await u(t)}catch(a){const s=a;d.send((0,r.G)({error_type:"trackingURLFailure",error_message:s.name,http_error_code:422,surface:(0,v.Fh)(i),request_url:t,request_type:"leavebehindAds",lineitem_id:e,ad_content_origin:(0,k.Zl)(i)}))}}))})(t,s),d.send((0,l.x)({leavebehind_lineitem_id:t,leavebehind_request_id:a,event:"event_clicked",event_reason:e,surface:(0,v.Fh)(i),surface_position:n,uri:c}))};return(0,x.jsxs)("section",{"data-testid":"leavebehinds-wrapper",children:[(0,x.jsxs)("div",{className:I,children:[(0,x.jsx)(s.E,{as:"h2",semanticColor:"textBase",variant:"titleSmall",paddingBottom:(0,n.po)("tighter"),"data-testid":"leavebehinds-title",children:o.Ru.get("podcast-ads.recent_ads")}),t]}),(0,x.jsx)("div",{className:f,"data-testid":"leavebehinds-list-wrapper",children:e.map(((e,t)=>(0,x.jsx)(j,{...e,buttonOnClick:()=>{h({eventReason:"button_clicked",lineitemId:e.lineitemId,trackingEvents:e.trackingEvents?.clicked,requestId:e.requestId,surfacePosition:t+1})},cardOnClick:()=>{h({eventReason:"card_clicked",lineitemId:e.lineitemId,trackingEvents:e.trackingEvents?.clicked,requestId:e.requestId,surfacePosition:t+1})}},e.adId)))})]})}},55895:(e,t,i)=>{i.d(t,{J:()=>u});var a=i(20618),s=i(40748),n=i(93395),r=i(64721),l=i(31761),o=i(96009),c=i(84576),d=i(86070);const u=({leavebehinds:e,surface:t,uri:i,pathname:u,state:p})=>{const m=(0,c.vh)(),h=`${r.Ru.get("view.see-all")} (${e.length<=o.E9?r.Ru.formatNumber(e.length):r.Ru.formatNumber(o.E9)})`;return(0,d.jsx)(a.N_,{to:u,state:p,children:(0,d.jsx)(s.H,{"data-testid":"leavebehinds-see-all",size:"small",onClick:()=>{m.send((0,n.x)({leavebehind_request_id:e[0].requestId,event:"event_clicked",event_reason:"cta_see_all",surface:(0,l.Fh)(t),uri:i}))},children:h})})}},97953:(e,t,i)=>{i.d(t,{W:()=>H});var a=i(97500),s=i.n(a),n=i(75627),r=i(64721),l=i(16249),o=i(86565),c=i(50684);const d=new o.l("internalLinkRecommenderEpisode","query","1a707c8b0ffba70f26bb06446ad3c3b75c966e35a9f71a00120a67444558f321",null);var u=i(43431),p=i(30758),m=i(95440),h=i(63642),g=i(9885),y=i(13377),x=i(48732),b=i(68371),j=i(37435),v=i(30860),k=i(92057),C=i(65311),P=i(61155),f=i(71502),I=i(44632),T=i(91616),w=i(95309),E=i(90089),S=i(88417),_=i(40564),R=i(19434),N=i(30057),A=i(86070);const L=e=>`activation-trigger-mme-${e}`,U=p.memo((function({index:e=-1,audio:t,contentInformation:i,coverArt:a,contentRatingLabel:s,description:r,mediaTypes:l,isoString:o,name:c,playable:d,playedState:u,podcastSubscription:U,sharingInfo:D,showName:M,showTrailer:F,showTypes:B,showUri:O,status:q,totalMilliseconds:$,type:z,uri:H}){const G=u.playPositionMilliseconds,W=(0,p.useRef)(null),[K,V]=(0,p.useState)(u.state===R._w.Completed),{draggable:Y,onDragStart:Z}=(0,k.P)(),Q=(0,C.V)(),X=(0,E.y)(),J=(0,m.wA)(),{isActive:ee,isPlaying:te,togglePlay:ie}=(0,S.P)({uri:H},{featureIdentifier:"episode"}),[ae]=(0,_.S)(1e4,(e=>e?.item?.uri===H));(0,p.useEffect)((()=>{te&&(W.current=ae)}),[te,ae]),(0,p.useEffect)((()=>{!te&&W.current&&$<=W.current&&V(!0)}),[te,$]);const se=(0,p.useCallback)((e=>{e||(W.current=0),V(e)}),[]),ne={uri:O,name:M,trailer:F,showTypes:B},re=(0,P.C)({audio:t,name:c,uri:H,mediaTypes:l,coverArt:{sources:a}},ne),le=(0,p.useCallback)((()=>{z!==R.I_.Episode?Q?re():ie():j.h.set((()=>({triggerId:L(H),triggerAction:null})))}),[z,Q,H,re,ie]),oe=U?.isPaywalled??!1,ce=U?.isUserSubscribed??!1,de=oe&&!ce,ue=oe&&Q,{badges:pe}=(0,N.b)({contentRating:s,isPaywalled:oe}),me=(0,p.useCallback)((()=>J((0,h.Tf)(O))),[O,J]),he=(0,p.useCallback)((e=>{let t=e;return(de||ue)&&(t=(0,A.jsx)(v.N,{enabled:!0,showUri:O,children:t})),!d&&pe.nineteen&&(t=(0,A.jsx)("div",{onClick:e=>{e.stopPropagation(),me()},children:e})),t=(0,A.jsx)(g.k,{id:L(H),targetURI:(0,n.o_h)(H),children:t}),t}),[de,ue,d,pe.nineteen,H,O,me]);return(0,A.jsx)(w.pZ,{value:"row",index:e,children:(0,A.jsx)(y.h,{menu:(0,A.jsx)(x.b,{uri:H,showUri:O,sharingInfo:D,isPlayed:K,onMarkAsPlayed:se}),children:(0,A.jsx)(b.k,{requestId:void 0,index:e,uri:H,size:X,images:a||[],name:c,showName:M,description:r,isPlayable:d||de,fullyPlayed:K,durationMs:$,releaseDate:o||"",resumePositionMs:W.current??G,draggable:Y,handleDragStart:e=>{if(e.target!==e.currentTarget)return;Z(e,{itemUris:[H],dragLabelText:`${c} â€¢ ${M}`,contextUri:O})},handlePlaybackClick:le,isCurrentlyPlaying:ee,isPaywalled:oe,isUserSubscribed:ce,isPlaying:te,position:te?ae:void 0,episodeSharingInfo:D,onMarkAsPlayed:se,contentInformation:i,showUri:O,mediaTypes:l??void 0,badges:(0,A.jsxs)(A.Fragment,{children:[pe.explicit&&(0,A.jsx)(f.U,{}),pe.paid&&(0,A.jsx)(I.y,{}),pe.nineteen&&(0,A.jsx)(T.q,{size:16})]}),playButtonWrapper:he,status:q})})})}));var D=i(24902);var M=i(25355),F=i(58528);const B="GgMHVmfXNzteIydSWMIA",O="GcupflQsYyy0IMOsCeD1",q="A4FqrLbXeENogU0IRaPn",$="YCYs0Gv5B5ctDN0f5Zby",z=({uri:e,isFullPage:t=!1})=>{const{data:i}=(a={uri:e},(0,c.I)(d,a,l));var a,l;const o=i?.seoRecommendedEpisode.totalCount,u=i?.seoRecommendedEpisode.items,p=function(e){return(e||[]).filter((e=>(e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"RestrictedContent"!==t?.__typename&&"Episode"===e.__typename;var t})(e.data)))}(u),m=t?p:p.slice(0,5);if(0===o)return null;const h=(0,n.o_h)(e)?.id,g=`spotify:app:episode:${h}:more-like-this`;return(0,A.jsxs)("section",{className:s()(B,{[O]:!t}),"data-testid":"episode-list",children:[(0,A.jsx)(M.k,{title:r.Ru.get("internal-link-recommender.more-episodes-like-this"),showSeeAll:!t,seeAllUri:g}),m.map((({data:e},t)=>{const i=(e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"RestrictedContent"!==t?.__typename&&"Podcast"===e.__typename;var t})(e.podcastV2.data)?e.podcastV2.data:null;return i?e&&(0,A.jsxs)("div",{className:$,children:[(0,A.jsx)("hr",{className:q,"aria-hidden":!0}),(0,A.jsx)(U,{index:t,audio:e.audio,contentInformation:e.contentInformation,contentRatingLabel:e.contentRating?.label,coverArt:e.coverArt?e.coverArt.sources:void 0,description:e.description,isoString:e.releaseDate?.isoString,mediaTypes:e.mediaTypes,name:e.name,playable:e.playability.playable,playedState:e.playedState,podcastSubscription:(0,F.Wx)(e.restrictions,e.playability),sharingInfo:e.sharingInfo,showTrailer:(a=i.trailerV2?.data,a&&(e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"RestrictedContent"!==t?.__typename&&"Episode"===e.__typename;var t})(a)?{type:D.c.EPISODE,uri:a.uri,name:a.name,coverArt:a.coverArt?.sources||[],audio:a.audio,audioPreview:a.audioPreview,sharingInfo:a.sharingInfo,duration:{milliseconds:a.duration.totalMilliseconds},contentRating:a.contentRating,mediaTypes:a.mediaTypes}:null),showName:i.name,showTypes:i.showTypes,showUri:i.uri,totalMilliseconds:e.duration.totalMilliseconds,type:e.type,uri:e.uri},`${e.uri}/${t}`)]},`${t}${e.uri}`):null;var a}))]})},H=e=>{const t=(0,u.D)({entityType:D.c.EPISODE,componentType:"list",uri:e.uri});return(0,A.jsx)(l.s,{onError:t,children:(0,A.jsx)(z,{...e})})}},33896:(e,t,i)=>{i.d(t,{g:()=>x});var a=i(30758),s=i(97500),n=i.n(s),r=i(6128),l=i(75627),o=i(13377),c=i(58681),d=i(1467),u=i(43494),p=i(55285),m=i(92057),h=i(11716),g=i(30113),y=i(86070);const x=({children:e,uri:t,name:i,nonInteractive:s=!1,creatorUri:x,spec:b})=>{let j=null;const{draggable:v,onDragStart:k}=(0,m.P)({itemUris:[t],dragLabelText:i}),C=(0,h.s)(),P=(0,a.useCallback)((()=>{b&&C.logInteraction(b.albumLinkFactory({uri:t}).hitUiNavigate({destination:t}))}),[C,b,t]);return s?(0,y.jsx)("span",{className:n()("standalone-ellipsis-one-line",g.A.text),children:e}):((0,l._Tv)(t)&&(j=(0,y.jsx)(c.h,{uri:t,artistUri:x})),(0,l.WB1)(t)&&(j=(0,y.jsx)(d.H,{uri:t})),(0,y.jsx)(o.h,{menu:j,children:(0,y.jsx)(r.E,{variant:"bodySmall",children:(0,y.jsx)(u.Zp,{label:i,showDelay:u.uF,children:(0,y.jsx)(p.N,{draggable:v,onDragStart:k,className:n()("standalone-ellipsis-one-line"),to:t,dir:"auto",onClick:P,children:e})})})}))}},89318:(e,t,i)=>{i.d(t,{P:()=>a.P});var a=i(48253)},48938:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Ni});var a=i(30758),s=i(20618),n=i(1978),r=i(83606),l=i(54628),o=i(75627),c=i(64721),d=i(18212),u=i(37435),p=i(97953),m=i(9498),h=i(72277),g=i(95440),y=i(20673),x=i(63642),b=i(69319),j=i(16683),v=i(44503),k=i(49740),C=i(9675),P=i(44979),f=i(48732),I=i(84889),T=i(39235),w=i(39521),E=i(9885),S=i(30860),_=i(55530),R=i(65311),N=i(1817),A=i(86070);const L="activation-trigger-mme",U=({episodeUri:e,showUri:t,isLocked:i,isPlaying:a,isPlayDisabled:s,playButtonPlayLabel:n,playButtonPauseLabel:r,onClick:l,size:c="large"})=>{const d=(0,N.c)();if((0,R.V)())return(0,A.jsx)(_.R,{size:c,onClick:l,isPlaying:a,disabled:s,locked:i,ariaPlayLabel:n,ariaPauseLabel:r});const u=(0,A.jsx)(S.N,{showUri:t,enabled:i,renderInline:!1,children:(0,A.jsx)(_.R,{size:c,onClick:l,isPlaying:a,disabled:s,locked:i,ariaPlayLabel:n,ariaPauseLabel:r})});return d?(0,A.jsx)(E.k,{id:L,targetURI:(0,o.o_h)(e),fadeOut:!0,children:u}):u};function D(e){return e?.replace(/T.*/,"")||""}var M=i(89318),F=i(49811),B=i(25336),O=i(44670),q=i(40564),$=i(84014),z=i(11716),H=i(1620),G=i(37659),W=i(30057);const K="KY_tGmIGPqs9GPaaPqL1",V="ZDeijYE6qPzPqT9vG_2w",Y="qEoBuparvnBwiHsPzwEj",Z="azmMKgbEFsGjSUnw2Knc",Q="oDljdc6tgUKxTeQMyh0D",X="eCpSFybAW4xJNfuGDJY3",J="aTeXTpJi_WmakpodeGxX",ee="kZWs1d_TjX2JQgmtx90y",te="JCSifKpPc54eqcTYBj5Q",ie="FlK1APGRiu5DTwm_0kix",ae="ahQLeD18bYXcFRWkL_vg",se="l6peddfW1BiAnd1a_mF3",ne="Xkg0O12dNVwomjL8dzm4",re="OexEjZt7Kf7pFUW701v8",le="jAY3diSzPfk19oswf8_y",oe="F3BJWbXwGSqNOwZHInLz",ce="YjVCpFaOT3LCR64t8jTN",de="Q7HlO_WHb9N8aK8bgOjG",ue="xTENSk0_RmQ8qEeEuhnE",pe="H1jMR2c5kT6qQ7lmTqpF",me=({episode:e,onPlayEpisode:t,isPlaying:i,isActive:s,isFullyPlayed:n,setIsFullyPlayed:r,backgroundColor:l,isLocked:o,spec:d})=>{const{uri:u,playedState:p,contentRating:m,playability:h}=e,E=(0,z.s)(),S=(0,g.wA)(),[_]=(0,q.S)(1e4,(e=>e?.item?.uri===u)),R=(0,$.o)((e=>e?.duration)),{badges:N}=(0,W.b)({contentRating:m?.label}),L=(0,a.useCallback)((e=>{!h.playable&&N.nineteen&&(e.stopPropagation(),S((0,x.Tf)(u||"")))}),[u,h.playable,N.nineteen,S]),K=(0,a.useCallback)((()=>{const e=d.contextMenuButtonFactory().hitUiReveal();E.logInteraction(e)}),[E,d]),V=(0,a.useCallback)(((e,t)=>{(0,B.Qv)(t,d.downloadButtonFactory(),E,u)}),[E,d,u]),Y=(0,w.d$)(),{spec:Z,logger:Q}=(0,H.r)(y.e,{data:{uri:u}});(0,a.useEffect)((()=>{Y&&Q.logImpression(Z.impression())}),[Y,Q,Z]);const J=(0,a.useCallback)((e=>{const t=d.saveButtonFactory();E.logInteraction(e?t.hitLike({itemToBeLiked:u}):t.hitRemoveLike({itemNoLongerLiked:u})),e&&Y&&Q.logInteraction(Z.hitAddToPlaylist({itemToBeAdded:u,playlist:O.Xn}))}),[E,d,u,Y,Q,Z]),ee=!o&&!e.playability.playable,te=c.Ru.get("tracklist.a11y.play",e.name,e.podcast?.name),ie=c.Ru.get("tracklist.a11y.pause",e.name,e.podcast?.name),ae=e.podcast?.uri,se=(0,F.j)(),ne=(0,T.v)(e.uri),re=!o;return(0,A.jsxs)(b.E,{backgroundColor:l,children:[(0,A.jsxs)("div",{className:X,children:[(0,A.jsx)(M.P,{episode:e}),(0,A.jsx)(G.j,{fullyPlayed:n,durationMs:s&&R?R:e.duration.milliseconds,releaseDate:D(e.releaseDate?.isoString),resumePositionMs:p.playPositionMilliseconds,isPlaying:i,position:s&&_||void 0})]}),(0,A.jsxs)(j.S,{children:[(0,A.jsx)("div",{onClick:L,children:(0,A.jsx)(U,{episodeUri:e.uri,showUri:ae,isLocked:o,onClick:()=>{t(p.playPositionMilliseconds)},isPlaying:i,isPlayDisabled:ee,playButtonPlayLabel:te,playButtonPauseLabel:ie,size:se})}),(0,A.jsx)(v.e,{uri:e.uri,onClick:V,size:se,canDownload:re,condensed:!0}),ne?(0,A.jsx)(I.g,{uri:e.uri,size:se}):(0,A.jsx)(C.b,{uri:e.uri,size:se,onClick:J,condensed:!0}),(0,A.jsx)(P.b,{onShow:K,menu:(0,A.jsx)(f.b,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:ae,contextUri:e.uri,isPlayed:n,onMarkAsPlayed:r}),children:(0,A.jsx)(k.e,{label:c.Ru.get("more.label.context",e.name),size:se})})]})]})};var he=i(29004),ge=i(63166),ye=i(96597),xe=i(55895),be=i(31761),je=i(34221),ve=i(21270),ke=i(96009),Ce=i(36682),Pe=i(35175),fe=i(24902);const Ie=be.ui.EPISODE_PAGE,Te=({leavebehinds:e,uri:t,seeAllPath:i})=>{const s=(0,a.useMemo)((()=>e.slice(0,ke.un)),[e]);return(0,A.jsx)(ye.o,{leavebehinds:s,surface:Ie,uri:t,seeAllButton:e.length>ke.un?(0,A.jsx)(xe.J,{leavebehinds:e,surface:Ie,uri:t,pathname:i,state:{uri:t}}):null})};function we(e){const t=(0,Ce.L)(),i=(0,o.o_h)(e.uri)?.id,s=(0,ve.c)(i),{data:n,error:r,getLeavebehinds:l}=(0,je.A)({surface:Ie,uri:e.uri}),c=(d=t?.item.type,(0,Pe.Z)(d)===fe.c.AD&&d===fe.c.EPISODE);var d;(0,a.useEffect)((()=>{l()}),[l]),(0,a.useEffect)((()=>{c&&l()}),[c]);const u=(0,a.useMemo)((()=>n?(0,ke.iT)(n,e.uri):[]),[n?.requestId]);return u.length<1||r?null:(0,A.jsx)(Te,{uri:e.uri,leavebehinds:u,seeAllPath:s})}var Ee=i(23893),Se=i(6128),_e=i(99642),Re=i(61214),Ne=i(19412);const Ae=({cardHeaderText:e,cardBodyText:t,buttonText:i,buttonTarget:a})=>(0,ge.NC)(Ne._Nj)?(0,A.jsxs)("div",{className:te,children:[(0,A.jsxs)("div",{className:ie,children:[(0,A.jsx)(Se.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:e}),(0,A.jsx)(Se.E,{semanticColor:"textBase",children:t})]}),(0,A.jsx)(Re.$,{size:"small",colorSet:"invertedLight",href:(0,o.o_h)(a).toURLPath(!0),component:Ee.v,children:i})]}):null,Le=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:i,hasDescription:s,htmlDescription:n,onExpanded:r,onTimeStampClick:l,playability:o,showHeader:d=!0,spec:u})=>{const p=(0,z.s)(),m=(s||t)&&d,h=(0,a.useCallback)((e=>{const t=u.readMoreButtonFactory();p.logInteraction(e?t.hitUiReveal():t.hitUiHide()),r?.()}),[u,p,r]),g=(0,ge.NC)(Ne.ZK8,{loadingValue:!1});return(0,A.jsxs)(A.Fragment,{children:[m&&(0,A.jsx)(Se.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Z,children:c.Ru.get("episode.description-title")}),t&&(0,A.jsx)(Ae,{cardHeaderText:t.cardHeaderText,cardBodyText:t.cardBodyText,buttonText:t.buttonText,buttonTarget:t.buttonTarget}),s&&(0,A.jsx)(_e.N,{className:Y,onTimeStampClick:l,maxLines:4,onExpanded:h,content:(i||"").trim(),htmlContent:e&&n?n:void 0,enableTimestamps:o.playable,enableAutomaticLinkification:g&&e&&!!n})]})};var Ue=i(97500),De=i.n(Ue),Me=i(21743),Fe=i(56639),Be=i(17159),Oe=i(18815),qe=i(18162),$e=i(65234),ze=function(e){return e.DESCRIPTION="description",e.TRANSCRIPT="transcript",e}(ze||{});const He=a.memo((function({transcriptSections:e,descriptionContent:t,transcriptContent:i,spec:s}){const n=(0,z.s)(),[r,l]=(0,a.useState)(ze.DESCRIPTION),o=(0,$e.v7)(),{ref:d,inView:u}=(0,Me.Wx)({threshold:[1],root:o.current,rootMargin:`-${qe.uC+1}px 100000px 0px 100000px`}),p=(0,a.useRef)(null),m=(0,a.useCallback)((e=>{p.current=e,d(e)}),[d]);return(0,a.useEffect)((()=>{const e=p.current?.parentElement?.offsetTop,t=o?.current;if(!e||!t)return;const i=e-qe.uC;t.scrollTop>i&&t.scrollTo({top:i})}),[o,r]),(0,A.jsx)(Fe.j,{list:(0,A.jsxs)(Be.L,{className:De()(ce,{[de]:!u}),ref:m,children:[(0,A.jsx)(Oe.Y,{label:c.Ru.get("web-player.episode.description"),sentenceCase:!0,active:r===ze.DESCRIPTION,onClick:()=>{const e=s.tabsFactory().descriptionTabButtonFactory().hitUiReveal();n.logInteraction(e),l(ze.DESCRIPTION)},className:De()(ue,{[ae]:r===ze.DESCRIPTION})}),(0,A.jsx)(Oe.Y,{label:c.Ru.get("web-player.episode.transcript"),sentenceCase:!0,disabled:null===e,active:r===ze.TRANSCRIPT,onClick:()=>{const e=s.tabsFactory().transcriptTabButtonFactory().hitUiReveal();n.logInteraction(e),l(ze.TRANSCRIPT)},className:De()(ue,{[ae]:r===ze.TRANSCRIPT})})]}),children:null===e||r===ze.DESCRIPTION?t:i})}));var Ge=i(26928),We=i(88417),Ke=i(49502);const Ve=(0,a.memo)((function({transcriptSections:e,onTimeStampClick:t,episodeUri:i}){const{spec:a,logger:s}=(0,H.r)(Ge.c,{data:{uri:i}}),{isPlaying:n}=(0,We.P)({uri:i},{featureIdentifier:"episode"}),r=a.timestampLinkFactory();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:ne,children:(0,A.jsx)(Se.E,{variant:"bodySmall",semanticColor:"textBase",children:c.Ru.get("web-player.episode.transcript.disclaimer")})}),e.map(((e,a)=>{const l=`transcript-section-${a}`;return(0,A.jsxs)("div",{className:se,children:[(0,A.jsx)("button",{className:re,onClick:()=>{t(e.startMs,l),s.logInteraction(n?r.hitSeekToTime({msToSeekTo:e.startMs}):r.hitPlay({itemToBePlayed:i}))},children:(0,A.jsx)(E.k,{id:l,targetURI:(0,o.o_h)(i),fadeOut:!0,children:(0,A.jsx)(Se.E,{variant:"marginalBold",semanticColor:"textSubdued",className:le,children:(0,Ke.f)(e.startMs)})})}),e.content.map(((e,t)=>(0,A.jsx)(Se.E,{variant:"bodySmall",semanticColor:"textBase",className:oe,dir:"auto",children:e},`transcript-text-${t}`)))]},l)}))]})}));var Ye=i(7588),Ze=i(23764),Qe=i(50507),Xe=i(33896),Je=i(67844),et=i(67230),tt=i(75380),it=i(45892),at=i(70540),st=i(37588),nt=i(87432),rt=i(43024),lt=i(6478),ot=i(40638),ct=i(10088),dt=i(4723),ut=i(89494),pt=i(53442),mt=i(30113);const ht=({children:e,index:t,ariaRowIndex:i,onTriggerPlay:s,isActive:n,uri:r,spec:l})=>{const o=(0,z.s)(),{pushPopSelected:c,toggleSelected:d,isSelected:u}=(0,a.useContext)(dt.m),p=(0,a.useRef)(null),m=(0,ut.W)(),h=(0,ot.YQ)((e=>{m({intent:"play",type:"double-click"});const t=o.logInteraction(l.doubleHitPlay({itemToBePlayed:r}));s(e,t)}),pt.d,{leading:!0,trailing:!1}),g=(0,a.useCallback)((e=>{d(t,e.shiftKey,e.ctrlKey||e.metaKey)}),[d,t]),y=(0,a.useCallback)((e=>{if(!p.current?.contains(e.target))return;const i="ArrowUp"===e.key?-1:1;["ArrowUp","ArrowDown"].includes(e.key)&&(e.shiftKey?c(t,i):d(t+i,!1,!1))}),[c,d,t]),x=u(t),b=x&&u(t-1),j=x&&u(t+1);return(0,A.jsx)(ct.$,{rowIndex:i,"aria-selected":x,children:(0,A.jsx)("div",{"data-testid":"tracklist-row",className:De()(mt.A.trackListRow,mt.A.trackListRowGrid,{[mt.A.active]:n,[mt.A.selected]:x,[mt.A.isPreviousRowSelected]:b,[mt.A.isNextRowSelected]:j}),onDoubleClick:h,onClick:g,onKeyDown:y,ref:p,children:e})})};var gt=i(17488),yt=i(95309);const xt=({uri:e,title:t="",index:i,subtitle:s="",showName:n="",showUri:r="",duration:l=0,start:o,stop:d})=>{const{isActive:u,isPlaying:p,onClick:m}=(0,gt.L)({episodeUri:e,start:o,stop:d}),h=(0,a.useCallback)(((e,t)=>{m(t)}),[m]),{spec:g}=(0,H.r)(Qe.i,{data:{position:i,reason:"",uri:e}});return(0,A.jsx)(yt.pZ,{value:"row",index:i,children:(0,A.jsxs)(ht,{index:i,ariaRowIndex:i+1,onTriggerPlay:h,isActive:u,spec:g,uri:e,children:[(0,A.jsxs)(st.U,{ariaColIndex:0,children:[(0,A.jsx)(tt.$,{uri:e,playAriaLabel:c.Ru.get("tracklist.a11y.play",s,n),onClick:h,isPlaying:p,isActive:u,spec:g,children:(0,A.jsx)(it.a,{children:(0,A.jsx)(Ze.M,{className:mt.A.talkIcon,"aria-hidden":!0})})}),(0,A.jsxs)(et.l,{children:[(0,A.jsx)(lt.p,{titleText:t,children:t}),(0,A.jsx)(rt.p,{children:s})]})]}),(0,A.jsx)(nt.o,{ariaColIndex:1,children:(0,A.jsx)(Xe.g,{uri:r,name:n,spec:g,children:(0,A.jsx)("span",{dir:"auto",children:n})})}),(0,A.jsx)(at.l,{ariaColIndex:2,children:(0,A.jsx)(Je.P,{duration:l,className:mt.A.talkSegmentDuration})})]})})};var bt=i(98486),jt=i(89865),vt=i(10108),kt=i(17221),Ct=i(12830),Pt=i(4696),ft=i(62355),It=i(45898);const Tt="HRApv65revEcL42QzRjJ",wt="HbJqPqSmOY5H3lLnQVzD",Et="DBcCnhHVt7coNqp3wMB4",St=({episodeUri:e,index:t,duration:i,start:s,stop:n,name:r,uri:l,artists:o,album:d,playable:u})=>{const{isActive:p,isPlaying:m,onClick:h}=(0,gt.L)({episodeUri:e,start:s,stop:n}),g=(0,a.useCallback)(((e,t)=>{h(t)}),[h]),{spec:y}=(0,H.r)(Qe.i,{data:{position:t,reason:"",uri:l}});return(0,A.jsx)(yt.pZ,{value:"row",index:t,children:(0,A.jsx)(vt.t,{trigger:"right-click",action:"open",menu:(0,A.jsx)(kt.P,{uri:l}),children:(0,A.jsxs)(ft.w,{uri:l,index:t,ariaRowIndex:t+1,dragMetadata:{name:r,createdBy:o?.[0].name??""},onTriggerPlay:g,isActive:p,isPlayable:u,spec:y,children:[(0,A.jsxs)(st.U,{ariaColIndex:0,children:[(0,A.jsx)(tt.$,{uri:l,playAriaLabel:c.Ru.get("tracklist.a11y.play",r,o?.[0].name),onClick:g,isPlaying:m,isActive:p,spec:y,children:(0,A.jsx)(it.a,{children:(0,A.jsx)("img",{className:wt,src:d.image,alt:d.name})})}),(0,A.jsxs)(et.l,{children:[(0,A.jsx)(lt.p,{titleText:r,children:r}),(0,A.jsx)(rt.p,{children:(0,A.jsx)(Ct.l,{artists:o,spec:y})})]})]}),(0,A.jsx)(nt.o,{ariaColIndex:1,children:(0,A.jsx)(Xe.g,{uri:d.uri,name:d.name,spec:y,children:d.name})}),(0,A.jsxs)(at.l,{ariaColIndex:2,children:[(0,A.jsx)(It.d,{uri:l,spec:y}),(0,A.jsx)(Je.P,{duration:i}),(0,A.jsx)(Pt.Y,{spec:y,menu:(0,A.jsx)(kt.P,{uri:l,artists:o}),label:c.Ru.get("more.label.track",r,o?.[0].name)})]})]})})})};var _t=i(70451),Rt=i(85690);function Nt(e,t,i){return e.reduce(((e,a,s)=>((s>0||t>0)&&e.push({type:"SPACER",id:`spacer-${e.length}`}),"MUSIC"===a.type?e.push(function(e,t,i){return{type:"MUSIC",index:t,uri:i.uri,episodeUri:e,start:i.start,stop:i.stop,duration:i.duration,name:i.track.name,artists:i.track.artists,album:i.track.album,playable:i.track.playable}}(i,s,a)):"TALK"===a.type&&e.push(function(e,t,i){return{type:"TALK",index:t,uri:e,title:i.title,subtitle:i.subtitle,start:i.start,stop:i.stop,duration:i.duration,showUri:i.show.uri,showName:i.show.name}}(i,s,a)),e)),[])}const At=({uri:e,segmentCount:t})=>{const i=(0,_t.o)(),s=(0,a.useCallback)((async(a,s)=>{const n=Math.ceil(a/2);try{return{items:Nt(await i.getSegments(e,n,s),n,e),totalLength:2*t-1}}catch(e){return{items:[],totalLength:0}}}),[t,i,e]),n=(0,a.useCallback)((t=>{switch(t.type){case"SPACER":return(0,A.jsx)("div",{className:Et},t.id);case"MUSIC":return(0,A.jsx)(St,{...t},`${e}-${t.index}`);case"TALK":return(0,A.jsx)(xt,{...t},`${e}-${t.index}`);default:return(0,Rt.d)(t)}}),[e]),r=(0,a.useCallback)((e=>({uri:"MUSIC"===e.type?e.uri:""})),[]),l=c.Ru.get("music_and_talk.in_this_episode");return(0,A.jsxs)("div",{children:[(0,A.jsx)(Se.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Tt,children:l}),(0,A.jsx)(bt.S4,{ariaLabel:l,hasHeaderRow:!0,rowPlaceholder:Ye.qq,columns:[jt.$.TITLE_AND_ARTIST,jt.$.ALBUM_OR_SHOW,jt.$.DURATION],renderRow:n,fetchTracks:s,resolveItem:r,limit:50,nrTracks:2*t-1,testID:"music-and-talk-tracklist"})]})};var Lt=i(49097),Ut=i(7927);var Dt=i(6328),Mt=i(58476),Ft=i(57682),Bt=i(20731),Ot=i(17867);const qt="HGjuMwWSWy3FYYnzyodc",$t="QnZJ_bXjwXU8Z1ELdttH",zt="ML35b4imZqrfkCblzYyh",Ht=()=>(0,A.jsx)(Ot.h,{className:zt,size:"small",placeholder:(0,Mt.v)("Leave a comment")}),Gt=({comments:e,user:t,isRestricted:i,scrollIntoViewOnMount:s})=>{const n=(0,a.useRef)(null);return(0,a.useEffect)((()=>{s&&n.current&&n.current.scrollIntoView({block:"start"})}),[s]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Se.E,{variant:"titleSmall",semanticColor:"textBase",ref:n,children:(0,Mt.v)(`Comments (${e.totalCount})`)}),(0,A.jsxs)("div",{className:$t,children:[(0,A.jsx)(Bt.K,{eligibility:e.eligibilityStatus}),!i&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Ft.e,{label:t.displayName||t.username,width:32,images:t?.images,userIconSize:"small",testID:"user-widget-avatar"}),(0,A.jsx)(Ht,{})]})]})]})};var Wt=i(94811),Kt=i(50217),Vt=i(7038);const Yt=({uri:e,className:t})=>{const{data:i,fetchNextPage:n}=(e=>{const t=(0,Ut.n)(),{data:i,isLoading:s,isError:n,fetchNextPage:r}=(0,Lt.q)({queryKey:["useAllComments",e],queryFn:({pageParam:i})=>t.getAllComments(e,i),initialPageParam:void 0,getNextPageParam:e=>e.nextPageToken,gcTime:36e5,staleTime:3e4});return{data:(0,a.useMemo)((()=>i&&0!==i.pages.length?{comments:i.pages.flatMap((e=>e.comments)),eligibilityStatus:i.pages[0].eligibilityStatus,totalCount:i.pages[0].totalCount,nextPageToken:null}:null),[i]),fetchNextPage:r,isLoading:s,isError:n}})(e),r=(0,Kt.C)(),[l]=(0,s.ok)();if(!i||!r)return null;const{isRestricted:o,isHidden:c}=(0,Wt.K)(i.eligibilityStatus);return c?null:(0,A.jsxs)("div",{className:De()(qt,t),children:[(0,A.jsx)(Gt,{comments:i,user:r,isRestricted:o,scrollIntoViewOnMount:"new"===l.get("id")||"top"===l.get("id")}),(0,A.jsx)("div",{children:(0,A.jsx)(Vt._,{onReachBottom:n,children:i.comments.map(((e,t)=>(0,A.jsx)(Dt.c,{comment:e,showSeparator:t>0,scrollIntoViewOnMount:l.get("id")===e.id},`${e.uri}-${t}`)))})})]})};var Zt=i(99010),Qt=i(63112);const Xt=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:i,hasDescription:s,hasMusicAndTalkSegments:n,htmlDescription:r,onExpanded:l,onDescriptionTimestampClick:o,onTranscriptTimestampClick:d,playability:u,segmentCount:p,showUrl:m,transcript:h,uri:g,spec:y})=>{const x=(0,z.s)(),b=(0,ge.NC)(Ne.iGu,{loadingValue:!1}),j=(0,a.useMemo)((()=>y.descriptionSectionFactory()),[y]),v=(0,a.useMemo)((()=>j.trackListFactory()),[j]),[k,C]=(0,a.useState)(null),P=(0,a.useCallback)((async e=>{const t=await(0,Zt.Q)(e);C(t)}),[]);(0,a.useEffect)((()=>{h&&h.length>0&&P(h[0].cdnUrl)}),[P,h]);const f=a=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Le,{hasDescription:s,contentInformation:t,onTimeStampClick:o,onExpanded:l,description:i,areHTMLDescriptionsEnabled:e,htmlDescription:r,playability:u,showHeader:a,spec:j}),n&&(0,A.jsx)(Qt.r,{spec:v,children:(0,A.jsx)(At,{segmentCount:p,uri:g})}),m&&(0,A.jsx)(he.n,{size:"small",className:Q,href:m,component:Ee.v,onClick:()=>{x.logInteraction(j.allEpisodesLinkFactory().hitUiNavigate({destination:m}))},children:c.Ru.get("episode.see_all_episodes")}),b&&(0,A.jsx)(Yt,{uri:g,className:pe}),(0,A.jsx)(we,{uri:g})]}),I=h&&h?.length>0&&u.playable;return(0,A.jsx)(A.Fragment,{children:I?(0,A.jsx)(He,{transcriptSections:k,descriptionContent:f(!1),transcriptContent:(0,A.jsx)(Ve,{transcriptSections:k||[],onTimeStampClick:d,episodeUri:g}),spec:y}):f(!0)})};var Jt=i(13377),ei=i(87244),ti=i(11241),ii=i(29080),ai=i(7777),si=i(98991),ni=i(73686),ri=i(43233),li=i(22640),oi=i(17067),ci=i(55285),di=i(45108),ui=i(41861),pi=i(2535),mi=i(90861),hi=i(90089);const gi=({coverArt:e,name:t})=>{const i=(0,hi.y)(),a=i===mi.E.SMALL||i===mi.E.XSMALL;return(0,A.jsx)(ui.b,{images:e,type:fe.c.EPISODE,shape:ui.u.ROUNDED_CORNERS,title:t,size:a?pi.Qe.SIZE_20:pi.Qe.SIZE_24,className:J})};var yi=i(19434);const xi=({episode:e,isFullyPlayed:t,setIsFullyPlayed:i,backgroundColor:s,spec:n})=>{const{uri:r,name:l,sharingInfo:d,playedState:u,episodeType:p,releaseDate:m,coverArt:h}=e,g=(0,z.s)(),y=function(e,t,i,a,s){const n=t===yi.I_.Episode;return(0,di.hD)(e,a,i,s)?(0,A.jsx)(di.Ih,{isMusicAndTalk:n}):n?c.Ru.get("type.showEpisode"):c.Ru.get("type.podcastEpisode")}(r,p||yi.I_.Unknown,u.playPositionMilliseconds,D(m?.isoString),u.state===yi._w.Completed),x=e.podcast?.uri,b=function(e){const t=(0,o.o_h)(e);return`/show/${(0,o.cEw)(t?.id||"")}`}(x),j=(0,a.useCallback)((()=>{g.logInteraction(n.podcastLinkFactory().hitUiNavigate({destination:b}))}),[g,b,n]),v=e.podcast?.coverArt,k=!!(v&&v.length===h.length&&h.every(((e,t)=>e.url===v[t].url))),C=(0,A.jsx)(f.b,{uri:r,sharingInfo:d,showUri:x,contextUri:r,isPlayed:t,onMarkAsPlayed:i});return(0,A.jsxs)(ei.z,{backgroundColor:s,children:[(0,A.jsx)(ai.h,{children:(0,A.jsx)(Jt.h,{menu:C,children:(0,A.jsx)(si.X,{text:l,dragUri:r,dragLabel:l})})}),!k&&(0,A.jsx)(ti.X,{children:(0,A.jsx)(Jt.h,{menu:C,children:(0,A.jsx)(ni.b,{loading:"eager",name:l,images:h,placeholderType:"episode",shape:ni.u.SQUARE})})}),(0,A.jsxs)(ii.Y,{children:[(0,A.jsx)(ri.B,{children:y}),(0,A.jsx)(Jt.h,{menu:C,children:(0,A.jsx)(oi.mm,{dragUri:r,dragLabel:l,scaleAtMinWidth:oi.tw,className:V,children:(0,A.jsx)("span",{"data-testid":"episodeTitle",children:l})})}),(0,A.jsx)(Jt.h,{menu:C,children:(0,A.jsxs)(ci.N,{to:b,onClick:j,className:ee,children:[k&&(0,A.jsx)(gi,{name:l,coverArt:h}),(0,A.jsx)(li.g,{children:(0,A.jsx)("span",{"data-testid":"showTitle",children:e.podcast?.name})})]})})]})]})};var bi=i(7041),ji=i(27317),vi=i(64526),ki=i(83989),Ci=i(61155),Pi=i(55624),fi=i(97496),Ii=i(36702),Ti=i(32751),wi=i(67526),Ei=i(60163),Si=i(99916),_i=i(84817);const Ri=({episode:e})=>{const{uri:t,episodeType:i,description:l,htmlDescription:c,podcastSubscription:m,segmentsCount:g,podcast:y,contentInformation:x,playedState:b,coverArt:j}=e,{spec:v,logger:k}=(0,H.r)(r.g,{data:{uri:t}}),C=(0,ki.n)(),P=(0,a.useMemo)((()=>v.headerFactory()),[v]),f=(0,a.useMemo)((()=>v.actionBarFactory()),[v]),[I,T]=(0,a.useState)(b.state===yi._w.Completed),w=(0,Ti.z)(),E=(0,ut.W)(),S=void 0!==g&&g>0,_=(0,R.V)(),{triggerPlay:U,togglePlay:D,isActive:M}=(0,We.P)({uri:t,...C?{}:{pages:[{items:[{type:fe.c.EPISODE,uri:t,uid:null,provider:null}]}]}},{featureIdentifier:"episode"}),{isActive:F,isPlaying:B}=(0,wi.te)(t),O=j.at(0)?.url,q=(0,Pi.H)(O||null),z=(0,$.o)((e=>e?.isPaused??void 0)),G=(0,N.c)(),W=m.isPaywalled&&!m.isUserSubscribed,V=F||M,Y=e?{name:e.name,uri:e.uri,mediaTypes:e.mediaTypes,audio:{items:e.audio.items.map((e=>({url:e.url})))}}:null,Z=y?{name:y.name,uri:y.uri,trailer:y.trailer,showTypes:y.showTypes}:null,Q=(0,Ci.C)(Y,Z),X=(0,a.useCallback)(((e,a,s,n)=>{const r=()=>{z?(n?.("resume"),w.resume()):(n?.("pause"),w.pause())};if(W)return;let l="play";if(!B||0!==e&&a||(l="pause"),E({intent:l,targetUri:t,type:"click",itemIdSuffix:e>0?"podcast-description-timestamp":"button"}),i===yi.I_.Episode&&G)u.h.set((()=>({triggerId:s||L,triggerAction:null})));else if(M&&!a)_?r():D({loggingParams:n?.()});else if(F&&!a)r();else{const t=n?.("play");_?Q({seekTo:e,loggingParams:t}):U({seekTo:e,loggingParams:t})}}),[W,B,E,t,i,G,F,M,_,z,w,D,Q,U]),J=(0,a.useCallback)((e=>{X(e,!1,void 0,(e=>{const i=v.actionBarFactory().playButtonFactory();let a;return a="pause"===e||B?i.hitPause({itemToBePaused:t}):"resume"===e||V?i.hitResume({itemToBeResumed:t}):i.hitPlay({itemToBePlayed:t}),k.logInteraction(a)}))}),[X,V,B,k,v,t]),ee=(0,a.useCallback)((e=>{X(e,!0,void 0,(()=>k.logInteraction(v.descriptionSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:t}))))}),[X,k,v,t]),te=(0,a.useCallback)(((e,t)=>{X(e,!0,t)}),[X]),ie=(0,a.useCallback)((()=>{E({intent:"expand-description",type:"click"})}),[E]),[ae,se]=(0,s.ok)();(e=>{const t=(0,n.Zp)(),[i]=(0,s.ok)(),r=(0,ge.NC)(Ne.MCN,{loadingValue:!1}),l=e.gatedEntityRelations?.entitiesWithValueProps.at(0),c=(0,o.o_h)(l?.fallbackNavigation?.uri),d=l?.uri,u=i.has("si");(0,a.useEffect)((()=>{if(!r||!u||!d)return;let i;e.hasGatedEntityRelationAccess&&e.uri!==d?i=(0,o.o_h)(d)?.toURLPath(!0):!e.hasGatedEntityRelationAccess&&c&&(i=c.toURLPath(!0)),i&&t(i,{replace:!0})}),[r,c,u,t,d,e.hasGatedEntityRelationAccess,e.uri])})(e),(0,a.useEffect)((()=>{if(e&&!V&&ae.has("t")){const t=ae.get("t")||"0",i=1e3*parseInt(t,10);i<=e.duration.milliseconds&&(ae.delete("t"),se(ae,{replace:!0}),X(i,!0))}}),[e,X,V,ae,se]);const ne=!!l||!!c,re=e.podcast?.uri,le=(0,o.o_h)(re)?.toURLPath(!0);return(0,A.jsxs)("section",{"data-testid":"episode",className:K,children:[(0,A.jsx)(d.Q,{children:(0,_i.L$)({episodeOrChapterName:e.name,showOrAudiobookName:e.podcast?.name??"",type:"Podcast"})}),(0,A.jsx)(h.c,{artistOrShow:e.podcast?.name,title:e.name,uri:t,entityType:h.p.EPISODE}),(0,A.jsx)(xi,{episode:e,isFullyPlayed:I,setIsFullyPlayed:T,backgroundColor:q,spec:P}),(0,A.jsx)(me,{episode:e,onPlayEpisode:J,isPlaying:B,isActive:V,isFullyPlayed:I,setIsFullyPlayed:T,backgroundColor:q,isLocked:W,spec:f}),(0,A.jsxs)("div",{className:"contentSpacing",children:[(0,A.jsx)(bi.q,{gatedEntityRelations:e.gatedEntityRelations,upsellExplanation:e.upsellExplanation,hasAccess:e.hasGatedEntityRelationAccess,showValueProps:!1}),(0,A.jsx)(Xt,{transcript:e.transcript,hasDescription:ne,contentInformation:x,onDescriptionTimestampClick:ee,onTranscriptTimestampClick:te,onExpanded:ie,description:e.description,areHTMLDescriptionsEnabled:!0,htmlDescription:e.htmlDescription,playability:e.playability,hasMusicAndTalkSegments:S,segmentCount:g,uri:e.uri,showUrl:le,spec:v}),G&&(0,A.jsx)(p.W,{uri:t})]})]})},Ni=a.memo((function(){const{episodeId:e=""}=(0,n.g)(),t=(0,o.iMK)(e).toURI(),i=(0,Ei.d)(t),{data:s,isLoading:r}=(0,Ii.r)(t);return i?.isError||!i?.episodeOrChapter||r?(0,A.jsx)(m.LoadingPage,{hasError:i?.isError||!1,errorMessage:c.Ru.get("error.not_found.title.podcast")}):(0,Si.Gr)(i.episodeOrChapter)?(0,A.jsx)(ji.$,{to:(0,o.o_h)(i.episodeOrChapter.book?.uri).toURLPath(!0)}):(0,A.jsx)(a.Suspense,{fallback:null,children:(0,A.jsx)(vi.u,{pageId:l.$h.PODCAST_EPISODE,uri:t,children:(0,A.jsx)(fi.dj,{dynamicColors:s,children:(0,A.jsx)(Ri,{episode:i.episodeOrChapter})})})})}))},50217:(e,t,i)=>{i.d(t,{C:()=>n});var a=i(95440),s=i(24902);const n=()=>{const e=(0,a.d4)((e=>e.session?.user));return e?{type:s.c.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((({url:e,width:t,height:i})=>({url:e,width:t||void 0,height:i||void 0})))}:null}}}]);
//# sourceMappingURL=xpui-routes-episode.js.map