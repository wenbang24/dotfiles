"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[578],{6328:(e,t,i)=>{i.d(t,{c:()=>X});var n=i(30758),r=i(97500),s=i.n(r),a=i(20021),o=i(65583),c=i(91825),l=i(2339),u=i(95763),d=i(40748),p=i(96930),m=i(64721),T=i(58476),N=i(49740),I=i(44979),S=i(13377),f=i(95440),g=i(99903),v=i(65848),C=i(27415),E=i(97152),x=i(19412),k=i(95052),U=i(95309),b=i(90561),h=i(24902),y=i(86070);const A=n.memo((function({commentUri:e,authorUri:t,authorName:i,authorType:n}){const{user:r}=(0,f.d4)(k.Ht),{spec:s}=(0,b.o)(e);return t?(0,y.jsx)(U.pZ,{value:"comment",children:(0,y.jsxs)(g.W,{children:[n===h.c.USER&&(0,y.jsx)(E.u,{property:x.NAP,renderNewExperience:()=>(0,y.jsx)(v.X,{uri:t,name:i??"",currentUserUri:r?.uri})}),(0,y.jsx)(C.P,{spec:s,uri:e})]})}):null}));var _=i(1467),O=i(29760),R=i(55285),L=i(41861),D=i(2535);const j="m5OZXQj7TeGCKUuoKUQJ",M="fDtd4a5aWLa0rMQxCmn4",B="BcqJ5242UcnkbIJ3PabB",P="LWpR7exIYyWovDOCykgZ",W="tNaMsTlRcClg0gNsIgSz",Y="U8WSYONc9O5jC7ci4mHs",w="NHPPWuOwx2n8BgTPBnXU",G="ixHYU0G9pFyR9yXX2PEs",J="E0bOD7hg_tyr9WBjrmHq",K="PRJpBjbhDySrUCuVu2Jh",H=({reply:e,onClick:t})=>(0,y.jsxs)("div",{className:J,children:[(0,y.jsx)(L.b,{className:K,images:e.images,shape:L.u.ROUNDED_CORNERS,size:D.Qe.SIZE_20,iconSize:"small",type:h.c.SHOW,title:""}),(0,y.jsx)(d.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:t,children:(0,T.v)("1 reply")})]});var z=i(10871);const X=({comment:e,showSeparator:t,lineClamp:i,onClickNavigate:r,scrollIntoViewOnMount:f})=>{const g=(0,n.useRef)(null),v=(0,n.useRef)(null),C=(0,z.K)({ref:v}),{uri:E,id:x,author:k,creationDate:U,text:b,type:J}=e,{imagesReacted:K,replies:Z}="comment"===J?e:{imagesReacted:void 0,replies:void 0},Q=(0,n.useCallback)((()=>{r?.(x)}),[r,x]),q=r?Q:void 0;(0,n.useEffect)((()=>{f&&g.current&&g.current.scrollIntoView({block:"start"})}),[f]);const F=(0,y.jsx)(L.b,{className:M,images:k.images,shape:k.type===h.c.USER?L.u.CIRCLE:L.u.ROUNDED_CORNERS,size:D.Qe.SIZE_32,iconSize:"small",type:k.type,title:k.name}),V=k.type===h.c.USER?(0,y.jsx)(O.B,{uri:k.uri}):(0,y.jsx)(_.H,{uri:k.uri}),$=(0,y.jsxs)("span",{className:B,children:[k.type===h.c.SHOW?(0,y.jsx)(a.I,{size:"small",semanticColor:"textSubdued",className:P}):null,(0,y.jsx)(o.d,{lineClamp:1,as:"div",dir:"auto",className:B,children:(0,y.jsx)(S.h,{menu:V,children:(0,y.jsx)(R.N,{to:k.uri,children:k.name})})})]}),ee=U.date&&(0,y.jsx)(c.j,{children:m.Ru.formatRelativeDate(new Date(U.date),{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})}),te=(0,y.jsxs)("div",{className:W,children:[K&&K.length>0&&(0,y.jsxs)("div",{className:Y,children:[(0,y.jsx)(L.b,{images:K,shape:L.u.ROUNDED_CORNERS,size:D.Qe.SIZE_16,iconSize:"small",type:h.c.SHOW,title:""}),(0,y.jsx)(l.F,{className:w,size:"xsmall",semanticColor:"textBrightAccent"})]}),(0,y.jsx)(I.b,{menu:(0,y.jsx)(A,{commentUri:E,authorName:k.name,authorUri:k.uri,authorType:k.type}),children:(0,y.jsx)(N.e,{size:"small",condensedAll:!0})})]}),ie=Z&&Z.length>0?Z[0]:null;let ne=null;ie&&(ne="reply"===ie.type?(0,y.jsx)(X,{comment:ie}):(0,y.jsx)(H,{reply:ie,onClick:q}));const re=(0,y.jsxs)("div",{className:j,children:[(0,y.jsx)(u.v,{ref:e=>{v.current=e?.querySelector("span")??null},semanticColor:"textBase",lineClamp:i,children:b}),C&&(0,y.jsx)(d.H,{semanticColor:"textBase",condensedAll:!0,size:"small",onClick:q,children:(0,T.v)("See more")}),ne]});return(0,y.jsx)(p.v,{ref:g,className:s()({[G]:t}),id:`comment-${E}`,size:"md",media:F,title:$,subtitle:ee,trailing:te,layout:"wide",body:re,paddingInlineStart:"0",paddingInlineEnd:"0",paddingBlockStart:"comment"===J?"16px":"8px",paddingBlockEnd:"comment"===J?"16px":"0",titleGap:"0",onClick:q,children:e.text})}},20731:(e,t,i)=>{i.d(t,{K:()=>o});var n=i(6128),r=i(94811);const s="MDQEgxK3fMCe_ImnJCgq";var a=i(86070);const o=({eligibility:e})=>{const{message:t,isRestricted:i}=(0,r.K)(e);return i?(0,a.jsx)("div",{className:s,children:(0,a.jsx)(n.E,{variant:"bodySmall",semanticColor:"textSubdued",children:t})}):null}},70451:(e,t,i)=>{i.d(t,{o:()=>s});var n=i(70162),r=i(25214);function s(){return(0,r.N)(n.g)}},58476:(e,t,i)=>{function n(e){return e}i.d(t,{v:()=>n})},7927:(e,t,i)=>{i.d(t,{n:()=>s});var n=i(61350),r=i(25214);const s=()=>(0,r.N)(n.v)},94811:(e,t,i)=>{i.d(t,{K:()=>s});var n=i(58476);let r=function(e){return e.ELIGIBILITY_STATUS_UNSPECIFIED="ELIGIBILITY_STATUS_UNSPECIFIED",e.ELIGIBILITY_STATUS_UNRESTRICTED="ELIGIBILITY_STATUS_UNRESTRICTED",e.ELIGIBILITY_STATUS_HIDDEN="ELIGIBILITY_STATUS_HIDDEN",e.ELIGIBILITY_STATUS_DISABLED="ELIGIBILITY_STATUS_DISABLED",e.ELIGIBILITY_STATUS_NEW_USER_ACCOUNT="ELIGIBILITY_STATUS_NEW_USER_ACCOUNT",e.ELIGIBILITY_STATUS_ALREADY_COMMENTED="ELIGIBILITY_STATUS_ALREADY_COMMENTED",e}({});const s=e=>{let t=null,i=!1;switch(e){case r.ELIGIBILITY_STATUS_DISABLED:t=(0,n.v)("The host has turned off comments for this episode.");break;case r.ELIGIBILITY_STATUS_NEW_USER_ACCOUNT:t=(0,n.v)("You can start commenting once your account is 2 days old.");break;case r.ELIGIBILITY_STATUS_ALREADY_COMMENTED:t=(0,n.v)("Youâ€™ve already commented on this episode.");break;case r.ELIGIBILITY_STATUS_HIDDEN:i=!0}return{message:t,isRestricted:null!==t,isHidden:i}}},17488:(e,t,i)=>{i.d(t,{L:()=>o});var n=i(30758),r=i(88417),s=i(84014),a=i(60001);function o({episodeUri:e,start:t,stop:i}){const{togglePlay:o,triggerPlay:c,isPlaying:l,isActive:u}=(0,r.P)({uri:e},{featureIdentifier:"episode"}),d=(0,s.o)((e=>(0,a.s)(e)??0)),p=u&&function(e,t,i){return i>=e&&i<t}(t,i,d),m=l&&p;return{onClick:(0,n.useCallback)((e=>{p?o({seekTo:t,loggingParams:e}):c({seekTo:t,loggingParams:e})}),[p,t,o,c]),isPlaying:m,isActive:p}}},99010:(e,t,i)=>{i.d(t,{Q:()=>T});var n=i(21364),r=i(22795),s=i.n(r);let a=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.PLAINTEXT_CONTENT=1]="PLAINTEXT_CONTENT",e[e.MUSIC_TRACK=2]="MUSIC_TRACK",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function o(e){switch(e){case 0:case"UNKNOWN":return a.UNKNOWN;case 1:case"PLAINTEXT_CONTENT":return a.PLAINTEXT_CONTENT;case 2:case"MUSIC_TRACK":return a.MUSIC_TRACK;default:return a.UNRECOGNIZED}}const c={encode(e,t=s().Writer.create()){""!==e.version&&t.uint32(10).string(e.version),""!==e.episodeUri&&t.uint32(18).string(e.episodeUri),""!==e.publishedAt&&t.uint32(26).string(e.publishedAt);for(const i of e.sections)l.encode(i,t.uint32(34).fork()).ldelim();return""!==e.language&&t.uint32(42).string(e.language),!0===e.curated&&t.uint32(48).bool(e.curated),t},decode(e,t){const i=e instanceof s().Reader?e:new(s().Reader)(e);let n=void 0===t?i.len:i.pos+t;const r={version:"",episodeUri:"",publishedAt:"",sections:[],language:"",curated:!1};for(;i.pos<n;){const e=i.uint32();switch(e>>>3){case 1:r.version=i.string();break;case 2:r.episodeUri=i.string();break;case 3:r.publishedAt=i.string();break;case 4:r.sections.push(l.decode(i,i.uint32()));break;case 5:r.language=i.string();break;case 6:r.curated=i.bool();break;default:i.skipType(7&e)}}return r},fromJSON:e=>({version:p(e.version)?String(e.version):"",episodeUri:p(e.episodeUri)?String(e.episodeUri):"",publishedAt:p(e.publishedAt)?String(e.publishedAt):"",sections:Array.isArray(e?.sections)?e.sections.map((e=>l.fromJSON(e))):[],language:p(e.language)?String(e.language):"",curated:!!p(e.curated)&&Boolean(e.curated)}),toJSON(e){const t={};return void 0!==e.version&&(t.version=e.version),void 0!==e.episodeUri&&(t.episodeUri=e.episodeUri),void 0!==e.publishedAt&&(t.publishedAt=e.publishedAt),e.sections?t.sections=e.sections.map((e=>e?l.toJSON(e):void 0)):t.sections=[],void 0!==e.language&&(t.language=e.language),void 0!==e.curated&&(t.curated=e.curated),t},fromPartial(e){const t={version:"",episodeUri:"",publishedAt:"",sections:[],language:"",curated:!1};return t.version=e.version??"",t.episodeUri=e.episodeUri??"",t.publishedAt=e.publishedAt??"",t.sections=e.sections?.map((e=>l.fromPartial(e)))||[],t.language=e.language??"",t.curated=e.curated??!1,t}};const l={encode:(e,t=s().Writer.create())=>(0!==e.type&&t.uint32(8).int32(e.type),0!==e.startMs&&t.uint32(16).int32(e.startMs),void 0!==e.plaintextContent&&u.encode(e.plaintextContent,t.uint32(26).fork()).ldelim(),void 0!==e.musicTrack&&d.encode(e.musicTrack,t.uint32(50).fork()).ldelim(),""!==e.title&&t.uint32(34).string(e.title),void 0!==e.fallback&&u.encode(e.fallback,t.uint32(42).fork()).ldelim(),t),decode(e,t){const i=e instanceof s().Reader?e:new(s().Reader)(e);let n=void 0===t?i.len:i.pos+t;const r={type:0,startMs:0,plaintextContent:void 0,musicTrack:void 0,title:"",fallback:void 0};for(;i.pos<n;){const e=i.uint32();switch(e>>>3){case 1:r.type=i.int32();break;case 2:r.startMs=i.int32();break;case 3:r.plaintextContent=u.decode(i,i.uint32());break;case 6:r.musicTrack=d.decode(i,i.uint32());break;case 4:r.title=i.string();break;case 5:r.fallback=u.decode(i,i.uint32());break;default:i.skipType(7&e)}}return r},fromJSON:e=>({type:p(e.type)?o(e.type):0,startMs:p(e.startMs)?Number(e.startMs):0,plaintextContent:p(e.plaintextContent)?u.fromJSON(e.plaintextContent):void 0,musicTrack:p(e.musicTrack)?d.fromJSON(e.musicTrack):void 0,title:p(e.title)?String(e.title):"",fallback:p(e.fallback)?u.fromJSON(e.fallback):void 0}),toJSON(e){const t={};return void 0!==e.type&&(t.type=function(e){switch(e){case a.UNKNOWN:return"UNKNOWN";case a.PLAINTEXT_CONTENT:return"PLAINTEXT_CONTENT";case a.MUSIC_TRACK:return"MUSIC_TRACK";default:return"UNKNOWN"}}(e.type)),void 0!==e.startMs&&(t.startMs=Math.round(e.startMs)),void 0!==e.plaintextContent&&(t.plaintextContent=e.plaintextContent?u.toJSON(e.plaintextContent):void 0),void 0!==e.musicTrack&&(t.musicTrack=e.musicTrack?d.toJSON(e.musicTrack):void 0),void 0!==e.title&&(t.title=e.title),void 0!==e.fallback&&(t.fallback=e.fallback?u.toJSON(e.fallback):void 0),t},fromPartial(e){const t={type:0,startMs:0,plaintextContent:void 0,musicTrack:void 0,title:"",fallback:void 0};return t.type=e.type??0,t.startMs=e.startMs??0,t.plaintextContent=void 0!==e.plaintextContent&&null!==e.plaintextContent?u.fromPartial(e.plaintextContent):void 0,t.musicTrack=void 0!==e.musicTrack&&null!==e.musicTrack?d.fromPartial(e.musicTrack):void 0,t.title=e.title??"",t.fallback=void 0!==e.fallback&&null!==e.fallback?u.fromPartial(e.fallback):void 0,t}};const u={encode(e,t=s().Writer.create()){for(const i of e.plaintext)t.uint32(10).string(i);return t},decode(e,t){const i=e instanceof s().Reader?e:new(s().Reader)(e);let n=void 0===t?i.len:i.pos+t;const r={plaintext:[]};for(;i.pos<n;){const e=i.uint32();if(e>>>3==1)r.plaintext.push(i.string());else i.skipType(7&e)}return r},fromJSON:e=>({plaintext:Array.isArray(e?.plaintext)?e.plaintext.map((e=>String(e))):[]}),toJSON(e){const t={};return e.plaintext?t.plaintext=e.plaintext.map((e=>e)):t.plaintext=[],t},fromPartial(e){const t={plaintext:[]};return t.plaintext=e.plaintext?.map((e=>e))||[],t}};const d={encode:(e,t=s().Writer.create())=>(""!==e.uri&&t.uint32(10).string(e.uri),t),decode(e,t){const i=e instanceof s().Reader?e:new(s().Reader)(e);let n=void 0===t?i.len:i.pos+t;const r={uri:""};for(;i.pos<n;){const e=i.uint32();if(e>>>3==1)r.uri=i.string();else i.skipType(7&e)}return r},fromJSON:e=>({uri:p(e.uri)?String(e.uri):""}),toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),t},fromPartial(e){const t={uri:""};return t.uri=e.uri??"",t}};function p(e){return null!=e}function m(e){return e.type===a.MUSIC_TRACK?{type:"track",startMs:e.startMs,content:e.fallback?.plaintext||[],trackUri:e.musicTrack?.uri}:{type:"text",startMs:e.startMs,content:e.plaintextContent?.plaintext||[]}}async function T(e){try{const t=await fetch(e,{});if(t.ok&&t.body){const e=await t.arrayBuffer(),i=c.decode(new Uint8Array(e));return i.sections.map(m)}return null}catch(e){return null}}s().util.Long!==n.A&&(s().util.Long=n.A,s().configure())}}]);
//# sourceMappingURL=578.js.map