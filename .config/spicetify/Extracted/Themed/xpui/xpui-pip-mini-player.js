"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3667],{53232:(e,t,i)=>{i.d(t,{O:()=>d});var n=i(40748),s=i(36196),a=i(64721),l=i(43494),o=i(90861),r=i(90089),c=i(86070);const d=({isDisliked:e=!1,onClick:t=(()=>{}),className:i,size:d="medium",label:u=a.Ru.get("playback-control.ban")})=>{const m=(0,r.y)();return(0,c.jsx)(l.Zp,{label:u,children:(0,c.jsx)(n.H,{role:"switch","aria-label":u,"aria-checked":e,className:i,onClick:t,iconOnly:s.P,size:m===o.E.MEDIUM?d:"small"})})}},8541:(e,t,i)=>{i.d(t,{w:()=>m});var n=i(30758),s=i(97500),a=i.n(s),l=i(23965),o=i(64721),r=i(53998),c=i(48090);const d="pvGZ831aNzHTQMZ8CA_u";var u=i(86070);const m=(0,n.memo)((function({onClick:e=(()=>{}),size:t,className:i,uri:s,sharingInfo:m,interactionData:h,ariaLabel:g=o.Ru.get("mwp.list.item.share"),condensedAll:x,placement:p,semanticColor:v,disableTooltip:k}){const{onCopyLink:C}=(0,c.L)({sharingInfo:m,uri:s,interactionData:h}),N=(0,n.useCallback)((()=>{C(),e()}),[e,C]);return(0,u.jsx)(r.a,{ariaLabel:g,size:t,onClick:N,className:a()(d,i),icon:l.C,condensedAll:x,placement:p,condensed:!0,semanticColor:v,disableTooltip:k})}))},1630:(e,t,i)=>{i.d(t,{z:()=>s});var n=i(8364);const s=()=>{const{togglePanel:e,isActive:t}=(0,n.C)();return{isPickerOpen:t,triggerRef:{current:null},toggleDevicePicker(t){e(t)}}}},64842:(e,t,i)=>{i.d(t,{a:()=>g});var n=i(30758),s=i(97500),a=i.n(s),l=i(64721),o=i(53232),r=i(14654),c=i(72744),d=i(93915),u=i(18032),m=i(4114),h=i(86070);const g=({context:e,item:t,className:i,onClick:s=(()=>{})})=>{const{dislikeEndpoint:g,shouldShowFeedbackControls:x}=(0,r.d)(e),{enqueueSnackbar:p}=(0,c.d)(),v=e.metadata?.[u.W.CONTEXT_DESCRIPTION]??"",{setDislikeFeedback:k}=(0,d.I)({uri:t.uri,setFeedbackPath:g,contextUri:e.uri}),C=(0,n.useCallback)((async()=>{k(),p(l.Ru.get("feedback.hide-song",v)),s?.()}),[k,p,v,s]);return(0,m.v)(t)&&x?(0,h.jsx)(o.O,{className:a()(i,{"control-button":!i,"control-button-feedback":!i}),isDisliked:!1,onClick:C}):null}},94914:(e,t,i)=>{i.r(t),i.d(t,{PiPMiniPlayer:()=>yi});var n=i(30758),s=i(97500),a=i.n(s),l=i(63166),o=i(34979),r=i(64721),c=i(36682),d=i(6128),u=i(95602),m=i(10347),h=i(80861),g=i(45006),x=i(78999),p=i(7004),v=i(87673),k=i(3959),C=i(1630),N=i(9856),b=i.n(N);const y=()=>!0===b().getParser(window.navigator.userAgent).satisfies({chrome:">=123",edge:">=127"}),j=()=>{y()&&window.focus()};var f=i(73868),w=i(38254),S=i(4316),D=i(1620),P=i(45231);const R="ZTvigd5RaqxtTdBzGide",B="jxNXLdUZfNhmCuYDbAKP",E="BBABURh2CZ6if4dMvq3j";var L=i(86070);const T=()=>{const{isPlayingRemotely:e,connectionStatus:t,remoteDeviceName:i,remoteDeviceType:n}=(0,w.v)((e=>{const t=(0,f.V)(e);return{isPlayingRemotely:t.isPlayingRemotely,connectionStatus:t.connectionStatus,remoteDeviceName:t.remoteDevice?.name,remoteDeviceType:t.remoteDevice?.type}}),P.a),{spec:s,logger:a}=(0,D.r)(v.s,{}),{triggerRef:l,toggleDevicePicker:o,isPickerOpen:r}=(0,C.z)(),{currentSession:c}=(0,S.D)(),u=Boolean(c?.active);if(!(e&&i&&n)&&!u)return(0,L.jsx)(L.Fragment,{});const m=(0,k.$A)(n||"unknown",t);return(0,L.jsxs)("div",{className:R,children:[(0,L.jsx)(m,{size:"xsmall",className:B,role:"presentation",semanticColor:"textPositive"}),(0,L.jsx)(g.r,{title:i,children:(0,L.jsx)(p.Y,{component:"button",onClick:()=>{const e=s.activeDeviceButtonFactory(),{interactionId:t}=a.logInteraction(r?e.hitUiHide():e.hitUiReveal());o(t),j()},ref:l,className:E,semanticColor:"textPositive",children:(0,L.jsx)(d.E,{variant:"bodySmall","aria-live":"polite",semanticColor:"textPositive",children:i})})},"context-item-connection-status")]})};var M=i(9675),I=i(73145),O=i(41436),A=i(14654),F=i(32751),z=i(84058),U=i(60001),H=i(85690);const W=({uri:e,spec:t,logger:i})=>{const s=(0,n.useRef)(e);s.current=e;const a=(0,F.z)(),l=(0,n.useMemo)((()=>t.playerControlsFactory()),[t]),o=(0,n.useCallback)((e=>{let t=null;"pause"===e?t=l.playPauseButtonFactory().hitPause({itemToBePaused:s.current}):"resume"===e&&(t=l.playPauseButtonFactory().hitResume({itemToBeResumed:s.current})),t&&i.logInteraction(t)}),[i,l]),r=(0,n.useCallback)((e=>{const t=l.likeButtonFactory(),n=e?t.hitLike({itemToBeLiked:s.current}):t.hitRemoveLike({itemNoLongerLiked:s.current});i.logInteraction(n)}),[i,l]),c=(0,n.useCallback)((()=>{const e=a.getState();if(!e)return;const t=l.previousButtonFactory().hitSkipToPrevious(_(e));i.logInteraction(t)}),[i,a,l]),d=(0,n.useCallback)((()=>{const e=a.getState();if(!e)return;const t=l.nextButtonFactory().hitSkipToNext(_(e));i.logInteraction(t)}),[i,a,l]),u=(0,n.useCallback)((e=>{const t=l.repeatButtonFactory();let n=null;switch(e){case z.p.REPEAT_TRACK:n=t.hitRepeatOneEnable();break;case z.p.REPEAT_CONTEXT:n=t.hitRepeatEnable();break;case z.p.REPEAT_NONE:n=t.hitRepeatDisable();break;default:(0,H.k)(e)}n&&i.logInteraction(n)}),[i,l]),m=(0,n.useCallback)((e=>{const t=e?"shuffle":"linear",n=e?"linear":"shuffle",a=l.shuffleButtonFactory({uri:s.current}).hitSelectShuffleMode({previousMode:n,selectedMode:t});i.logInteraction(a)}),[i,l]),h=(0,n.useCallback)((e=>{const t=l.volumeMuteButtonFactory();i.logInteraction("muted"===e?t.hitMutePlayback():t.hitUnmutePlayback())}),[i,l]),g=(0,n.useCallback)((e=>{const t=l.volumeBarFactory();i.logInteraction(t.hitSetVolume({newVolumePercentage:V(e)}))}),[i,l]),x=(0,n.useCallback)((e=>{const t=l.volumeBarFactory();i.logInteraction(t.dragSetVolume({newVolumePercentage:V(e)}))}),[i,l]),p=(0,n.useCallback)((e=>{const t=l.seekBackwardButtonFactory();i.logInteraction(t.hitSeekByTime({msSeekedOffset:e}))}),[i,l]);return{onClickSeekForward:(0,n.useCallback)((e=>{const t=l.seekForwardButtonFactory();i.logInteraction(t.hitSeekByTime({msSeekedOffset:e}))}),[i,l]),onClickSeekBack:p,onClickPlayPause:o,onClickLike:r,onClickSkipPrevious:c,onClickSkipNext:d,onClickRepeat:u,onClickShuffle:m,onClickVolumeButton:h,onClickVolumeBar:g,onDragVolumeBar:x,onClickShare:(0,n.useCallback)((()=>{const e=l.shareButtonFactory({uri:s.current});i.logInteraction(e.hitCopyToClipboard())}),[i,l]),onClickProgressBar:(0,n.useCallback)((e=>{const t=l.progressBarFactory();i.logInteraction(t.hitSeekToTime({msToSeekTo:e}))}),[i,l]),onDragProgressBar:(0,n.useCallback)((e=>{const t=l.progressBarFactory();i.logInteraction(t.dragSeekToTime({msToSeekTo:e}))}),[i,l])}};function _(e){return{itemToBeSkipped:e.item?.uri||"",positionMs:(0,U.s)(e)??-1,totalContentMs:e.duration??-1}}function V(e){return Math.floor(100*e)}var Z=i(37375),K=i(58778),q=i(17566),Q=i(61804),X=i(4114);const Y="d_srhjvwD_GUA3bcCWe4",J="Y1sIRIE9_S2jPP9L89qs",G="_qTFf4L4feIZxZ9RCcca",$="xLVzUYXestVWzpfiOPxA",ee="alofN0D4rOdnu0Y6xfcw",te="iKzG3nPAIAbL5CZAbKJU",ie="b6HgoPaw7SCowvemSx0g",ne="qFpig0a2GKNJnWJFd1db",se="PuRqtCWIESfTs0d2dULt",ae="fEVqL0T4qWVkozlVqGcy",le="lcyebQsHz0j8IkDXTAlB",oe="enGtDaA6WTTvIFhZz1wz",re="Kj0qWPCL3_VrCWRyNrMD",ce="Jo4RE0VhDecfPElNZucO";let de=function(e){return e.xs="small",e.sm="medium",e.md="large",e}({});const ue=({item:e,spec:t,logger:i,size:n=de.xs,className:s})=>{const l=e.uri,o=(0,q.X)(),r=(0,c.L)(),d=r?.context,{shouldShowFeedbackControls:u}=(0,A.d)(d),{onClickLike:m}=W({uri:l,spec:t,logger:i});return(0,X.v)(e)&&d?o&&(0,K.N)(e)?(0,L.jsx)("div",{className:ce,children:(0,L.jsx)(Z.o,{contextUri:e.metadata?.context_uri,id:e.uid??void 0,uri:e.uri,isActive:!0})}):(0,L.jsxs)("div",{className:re,children:[(0,L.jsx)(O.a,{context:d,item:e}),(0,L.jsx)(I.b,{size:u?de.xs:n,uri:l,onClick:m,className:a()(le,s),showDelayOnHover:1e3,isMiniPlayer:!0})]}):(0,Q.p)(e)?(0,L.jsx)(M.b,{size:n,uri:l,onClick:m,className:a()(le,s),condensed:!0}):null};var me=i(3865),he=i(64407),ge=i(45640);const xe="yb0n1ZOvcsGEP6MtzpHw",pe="wigNir143xMt4ihKMqrK",ve="jbCLA5mslXPNLClPNh8h",ke="srBfv7LB0I9QnzxBpeTV",Ce="V2fqnNTxbJBIOeX14ZFW",Ne="N5WQok6ioU_Dmf0F0O31",be="NZlJ5gYuUaWvALQ2gGfg",ye="r5_6Dsophi0MbO6WWawA",je="kWWqvihyBXMNH5W5rCwb",fe="CsqhW5xDG4TO3VV20IZJ";const we=({item:e,onClick:t,className:i})=>{const{spec:n,logger:s}=(0,D.r)(o.w,{}),l=(0,u.XX)(e),r=(0,ge.N)(e),c=r?l?.title:e.name,p=r?l?.subtitle:e.name,v=(0,me.K)(),k=function(e){switch(e){case"SMALL":return{title:"bodySmall",subtitle:"marginal"};case"MEDIUM":return{title:"bodyMedium",subtitle:"bodySmall"};default:return{title:"titleSmall",subtitle:"bodySmall"}}}(v.vertical),C="SMALL"===v.vertical,{connectionStatus:N}=(0,w.v)((e=>({connectionStatus:(0,f.V)(e).connectionStatus})),P.a);return(0,L.jsxs)("div",{className:a()(xe,i),children:[(0,L.jsx)("div",{className:Ce,children:(0,L.jsxs)(g.r,{title:c,children:[(0,L.jsx)(d.E,{"data-testid":"context-item-info-title",as:"div",variant:k.title,className:Ne,dir:"auto",children:(0,L.jsx)(h.R,{item:e,onClick:t,adUrl:l?.url,children:c})}),N===he.zP.CONNECTED&&(0,L.jsxs)(d.E,{"data-testid":"context-item-info-subtitles",as:"div",variant:k.title,className:a()(C?be:ke,Ne),semanticColor:"textSubdued",children:[(0,L.jsx)("span",{className:a()(ye,{[je]:!C}),children:"â€¢"}),(0,L.jsx)(m.n,{item:e,onClick:t})]})]},`${e.uri}-context-item-info-title`)}),(0,L.jsx)(x.l,{className:fe,item:e,size:C?"xsmall":"small",variant:C?"marginal":"bodySmall",enableVideoButton:!0}),(0,L.jsx)("div",{className:be,children:N===he.zP.CONNECTED?(0,L.jsx)(T,{}):(0,L.jsx)(g.r,{title:p,children:(0,L.jsx)(d.E,{"data-testid":"context-item-info-subtitles",as:"div",variant:k.subtitle,className:be,semanticColor:"textSubdued",children:(0,L.jsx)(m.n,{item:e,onClick:t})})},`${e.uri}-context-item-info-subtitles`)}),!C&&!r&&(0,L.jsx)("div",{className:pe,children:(0,L.jsx)("div",{className:ve,children:(0,L.jsx)(ue,{item:e,spec:n,logger:s,size:de.sm})})})]})};var Se=i(1978),De=i(61214),Pe=i(40748),Re=i(90565),Be=i(73487),Ee=i(29748);const Le="U7qJ1UbUI0C76xXqYVQY",Te="wSLUJtAztEeB6cSHzEjf",Me="ivh1pWB_obHbkRTZRwlA",Ie="giy3mj7QBOoIdj6wwTpe",Oe="FZZUfZ2ShpHjnzy_P6Kb",Ae="CppZQsRDE7tQVl_Uo22Y";i(16096),i(74790);const Fe=n.memo((({spec:e,logger:t})=>{const{openURLWithSessionTransfer:i}=(0,Ee.L)(),s=(0,Be.D)("loggedin_upgrade_button"),a=(0,Se.Zp)(),l=(0,Re.k)(),{url:o,isExternal:c}=l,u=(0,n.useCallback)((()=>{let n;!1===c?(a("/premium"),n=e.upsellComponentFactory().upsellButtonFactory().hitUiNavigate({destination:"/premium"})):(i(s(o),"_blank"),n=e.upsellComponentFactory().upsellButtonFactory().hitNavigateToExternalUri({destination:o})),t.logInteraction(n)}),[c,t,a,e,i,s,o]);return(0,L.jsx)("div",{className:Le,children:(0,L.jsxs)("div",{className:Te,children:[(0,L.jsx)(d.E,{variant:"titleSmall",dir:"auto",className:Me,children:r.Ru.get("web-player.pip-mini-player.upsell.title")}),(0,L.jsx)(d.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Ie,children:r.Ru.get("web-player.pip-mini-player.upsell.subtitle")}),(0,L.jsxs)("div",{className:Ae,children:[(0,L.jsx)(De.$,{onClick:u,size:"small",children:r.Ru.get("web-player.pip-mini-player.upsell.cta-button")}),(0,L.jsx)(Pe.H,{size:"small",onClick:()=>{const e=window.documentPictureInPicture?.window;e&&e.resizeTo(e.outerWidth-e.innerWidth+300,e.outerHeight-e.innerHeight+300)},className:Oe,children:r.Ru.get("action-trigger.button.not-now")})]})]})})}));var ze=i(19369),Ue=i(55285);const He="document-pip-hover-element",We="document-pip-cover-art",_e="document-pip-cover-art-placeholder",Ve="transparent";var Ze=i(3217),Ke=i(42101);function qe(e,t,i,n){try{if(!e)return i;const s=getComputedStyle(e);if(!s)return i;const a=s.getPropertyValue(t),l=parseInt(a.replace(n,""),10);return isNaN(l)?i:l}catch(e){return i}}var Qe=i(19412),Xe=i(977),Ye=i(70490),Je=i(97505),Ge=i(49502);const $e="wF7I8x6BNoB5TCxuQM6p",et="mTVLkxm92ETj9KUKj6We",tt="_ZzrZWfp7kDAE2lh9_Wc",it="Z7EJBI5IBlrJ1ze7IeeW",nt="v5BmE36Bbgt7MSjmR6Xc",st="CAQW4b5xnSED1cuM6jcp",at="Pvgy7FmdedDiDBpWdtwf",lt="GSgApqjTNqV1hBpu3zeT",ot="cRGZivJEkNn8_Q7kaHpT",rt="jOhwShRZLQkG51TckxOL",ct="AfV1a_jkmN7Ep4mov4u7",dt="QrDtnomlujlNGYbhYEFQ",ut="Jgem6BNDvKfWTBl3cX4W",mt="ePoosDhdXDFF4p3vqKLd",ht="QGE_nRKg4bMbNKF_e7PM",gt="ddMrU_P5vADrfZCD5KQP",xt="x591ODwZ11KBAWKS6SiE",pt="yyE7Kg8ClZLrYU03bSoA",vt="GJYNq4mAAnZScLzJPrZb",kt="mBYWBXnQ_1G3IS2q0zUM",Ct="F7RVFhPYBKleXl4ulrwe",Nt="Q4qOSqJZ_dfNRxOBhsGE",bt="hix4I_WU5iQPehn_m5h2",yt="gOpH1qSy5WZp_dGqBjSO",jt="ZeSR2WPUGMRnwFnGoYp3",ft="NEKBj5FX847wFAhR57Bm",wt="dahc71cxY4Nzk6ebA2ZW",St="vYL9B3OtXRb7_BrVMqPs",Dt="dJY9K_yl2SIFh2sQav8J",Pt="B62SqNdB5yicbOhkDWDy",Rt="ixLnBGpFXBDXJBwJAFN2",Bt="xG6CoSo4Qt0PDw74JLdM",Et="COvUYZFLWyAYMoZxYBWV",Lt="gDC7KBL5Cbad2gkb2ECA",Tt="YjoaIyvleWu6L_m3iqwr",Mt="UqNXNAlAlrI35gbbTIlL",It="JWR17pOvN2l0NGHVAi9Q",Ot="RwUrgB_h_amNMENcAmKM",At="UuWUqZ0KXYAc2I1R_tdl";const Ft=({item:e,imageUrl:t})=>{const i=(0,ze.iz)(e),n=(0,L.jsx)(Ye._,{className:xt,src:t,loading:"eager",testid:We,children:(0,L.jsx)("div",{className:pt,children:(0,L.jsx)(Xe.s,{size:"xlarge",type:e.type,"data-testid":_e})})});return i.url?(0,L.jsx)(Ue.N,{className:gt,to:i.url,children:n}):n},zt=()=>{const{item:e,context:t}=(0,c.L)()??{},i=(0,n.useMemo)((()=>(0,Ge.h)(e?.images??void 0,{desiredSize:640,desiredLabel:"large"})),[e?.images,640]),s=(0,f.l)(),o=(0,l.NC)(Qe.a4n),{isYourDJNarrator:r}=(0,Ke.CV)(),d=(0,n.useRef)(null),u=(0,n.useCallback)((()=>{if(!d.current)return;const e=d.current?.children[0];if(!e)return;const{offsetWidth:t,offsetHeight:i}=d.current;let n=Math.min(t,i);n=Math.min(n,640),1===qe(e,"--extra-padding",0,"")&&(n-=Math.max(Math.min(.1*n,64),12)),e.width=e.height=n}),[]),m=(0,Je.ox)();(0,n.useEffect)((()=>(m?.addEventListener("resize",u),()=>{m?.removeEventListener("resize",u)})),[u,m]);const h=e&&function(e){return"video"===e.mediaType||"mixed"===e.mediaType}(e),g=(0,ge.N)(e);let x=!h;!h||!s&&o||(x=!0);const p=(0,n.useMemo)((()=>x&&!g&&y()),[g,x]);let v;v=r?(0,L.jsx)(Ze.aU,{}):g?(0,L.jsx)(Ft,{item:e,imageUrl:i}):(0,L.jsx)(Ye._,{className:xt,src:i,loading:"eager",testid:We,children:(0,L.jsx)("div",{className:pt,children:(0,L.jsx)(Xe.s,{size:"xlarge",type:e?.type,"data-testid":_e})})});const k=(0,n.useCallback)((()=>{p&&j()}),[p]),C=(0,n.useCallback)((e=>{"Enter"===e.key&&k()}),[k]);return e&&t&&x?(0,L.jsx)("div",{className:a()(mt,{[ht]:p}),ref:e=>{d.current=e,u()},role:"button",tabIndex:p?0:-1,onClick:k,onKeyDown:C,children:v}):null};var Ut=i(25813),Ht=i(34135),Wt=i(41089),_t=i(84576),Vt=i(60472),Zt=i(37300),Kt=i(66531),qt=i(72213);const Qt=()=>(0,L.jsx)("svg",{width:"7",height:"8",viewBox:"0 0 7 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:nt,children:(0,L.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.37397 1.94965C6.60829 1.71534 6.60829 1.33544 6.37397 1.10113C6.13966 0.866812 5.75976 0.866812 5.52544 1.10113L3.47461 3.15196L1.42422 1.10157C1.18991 0.86726 0.81001 0.86726 0.575695 1.10158C0.341381 1.33589 0.341381 1.71579 0.575695 1.9501L2.62608 4.00049L0.575696 6.05087C0.341381 6.28519 0.341381 6.66509 0.575696 6.8994C0.81001 7.13372 1.18991 7.13372 1.42422 6.8994L3.47461 4.84902L5.52544 6.89985C5.75976 7.13416 6.13966 7.13416 6.37397 6.89985C6.60829 6.66554 6.60829 6.28564 6.37397 6.05132L4.32314 4.00049L6.37397 1.94965Z",fill:"#912616"})}),Xt=n.memo((({className:e})=>"SMALL"!==(0,me.K)().vertical?(0,L.jsx)(Ut.U,{className:e}):(0,L.jsx)(Ht.M,{className:e}))),Yt=({className:e})=>{const{setVideoPlayerUIFlag:t}=(0,Vt.d)(),{onClick:i}=(0,Kt.D)({}),s=(0,n.useCallback)((()=>{t(Zt.n.documentPip,!1),i()}),[t,i]),l=(0,_t.mv)();return(0,L.jsxs)("div",{style:{display:"var(--mini-player-drag-display)"},className:a()(e,tt),children:[(0,L.jsx)("button",{className:it,onClick:s,children:l.operatingSystem===qt.f.macOS?(0,L.jsx)(Qt,{}):(0,L.jsx)(Wt.M,{size:"xsmall",className:nt})}),(0,L.jsx)(Xt,{className:at}),(0,L.jsx)("div",{className:st})]})};var Jt=i(45841),Gt=i(40638),$t=i(37656),ei=i(51880),ti=i(75627),ii=i(8541),ni=i(43494);const si=({onClick:e,item:t,className:i,showDelayOnHover:n})=>(0,L.jsx)(ni.Zp,{label:(0,ti.gHQ)(t.uri)?r.Ru.get("context-menu.copy-episode-link"):r.Ru.get("context-menu.copy-track-link"),showDelay:n,children:(0,L.jsx)("div",{className:a()(i),children:(0,L.jsx)(ii.w,{sharingInfo:null,uri:t.uri,onClick:e,size:"small",interactionData:{type:"click",intent:"share"},disableTooltip:!0,ariaLabel:(0,ti.gHQ)(t.uri)?r.Ru.get("context-menu.copy-episode-link"):r.Ru.get("context-menu.copy-track-link"),className:te})})});var ai=i(77986),li=i(43215),oi=i(45080);const ri=n.memo((({pipWindowSize:e,item:t,spec:i,logger:n,direction:s,volumeIconRef:l})=>{const{onClickPlayPause:o,onClickVolumeButton:r,onClickVolumeBar:c,onDragVolumeBar:d,onClickSeekBack:u,onClickSeekForward:m}=W({uri:t.uri,spec:i,logger:n}),h=(0,Gt.YQ)(d,500,{leading:!1,trailing:!0});return"DEFAULT"===e.vertical?(0,L.jsx)($t.v3,{onClick:m,className:Y}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:Dt,children:(0,L.jsx)(ei.M,{mode:ei.V.SHOW_SLIDER_ON_HOVER,sliderSize:80,sliderDirection:s,onToggleMuteClick:r,onVolumeBarClick:c,onVolumeBarDrag:h,className:Y,volumeIconRef:l,isMiniPlayer:!0,showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:St,children:(0,L.jsx)($t.hC,{onClick:u,className:Y,showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:ft,children:(0,L.jsx)($t.xJ,{onClick:o,className:a()(Y,oe),showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:wt,children:(0,L.jsx)($t.v3,{onClick:m,className:Y,showDelayOnHover:1e3})})]})})),ci=n.memo((({item:e,spec:t,logger:i,pipWindowSize:n,direction:s,volumeIconRef:l})=>{const{onClickPlayPause:o,onClickSkipPrevious:r,onClickSkipNext:c,onClickVolumeButton:d,onClickVolumeBar:u,onDragVolumeBar:m,onClickSeekBack:h,onClickSeekForward:g,onClickShare:x}=W({uri:e.uri,spec:t,logger:i}),p=(0,Gt.YQ)(m,500,{leading:!1,trailing:!0}),v="SMALL"===n.vertical,k="DEFAULT"===n.vertical,C="SMALL"===n.horizontal,N=k&&!C;return(0,L.jsxs)(L.Fragment,{children:[v&&(0,L.jsx)("div",{className:St,children:(0,L.jsx)("div",{className:J,children:(0,L.jsx)(ue,{item:e,spec:t,logger:i,className:a()(Y,le,"encore-base-set")})})}),(0,L.jsx)("div",{className:Pt,children:(0,L.jsx)(ei.M,{mode:ei.V.SHOW_SLIDER_ON_HOVER,sliderSize:80,sliderDirection:v?"horizontal":s,onToggleMuteClick:d,onVolumeBarClick:u,onVolumeBarDrag:p,className:Y,volumeIconRef:l,isMiniPlayer:!0,showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:Dt,children:(0,L.jsx)($t.hC,{onClick:h,className:se,showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:Bt,children:(0,L.jsx)($t.dQ,{onClick:r,className:ie,showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:ft,children:(0,L.jsx)($t.xJ,{iconSize:N?"medium":"small",onClick:o,className:a()(Y,oe),showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:Rt,children:(0,L.jsx)($t.$K,{onClick:c,className:ne,showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:wt,children:(0,L.jsx)($t.v3,{onClick:g,className:ae,showDelayOnHover:1e3})}),!v&&(0,L.jsx)(si,{item:e,onClick:x,className:Y,showDelayOnHover:1e3}),v&&(0,L.jsx)("div",{className:Et,children:(0,L.jsx)(si,{item:e,onClick:x,className:Y,showDelayOnHover:1e3})})]})})),di=n.memo((({item:e,spec:t,logger:i,pipWindowSize:n,direction:s,volumeIconRef:l})=>{const{onClickPlayPause:o,onClickSkipPrevious:r,onClickSkipNext:c,onClickVolumeButton:d,onClickVolumeBar:u,onDragVolumeBar:m,onClickShuffle:h,onClickRepeat:g,onClickShare:x}=W({uri:e.uri,spec:t,logger:i}),p=(0,Gt.YQ)(m,500,{leading:!1,trailing:!0}),v="SMALL"===n.vertical,k="DEFAULT"===n.vertical,C="SMALL"===n.horizontal,N=k&&!C;return(0,L.jsxs)(L.Fragment,{children:[v&&(0,L.jsx)("div",{className:J,children:(0,L.jsx)("div",{className:St,children:(0,L.jsx)(ue,{item:e,spec:t,logger:i,className:a()(Y,le,"encore-base-set")})})}),!v&&(0,L.jsx)("div",{className:Pt,children:(0,L.jsx)(ei.M,{mode:ei.V.SHOW_SLIDER_ON_HOVER,sliderSize:80,sliderDirection:s,onToggleMuteClick:d,onVolumeBarClick:u,onVolumeBarDrag:p,className:Y,volumeIconRef:l,isMiniPlayer:!0,showDelayOnHover:1e3})}),v&&(0,L.jsx)("div",{className:Pt,children:(0,L.jsx)(ei.M,{mode:ei.V.SHOW_SLIDER_ON_HOVER,sliderSize:80,sliderDirection:"horizontal",onToggleMuteClick:d,onVolumeBarClick:u,onVolumeBarDrag:p,className:Y,volumeIconRef:l,isMiniPlayer:!0,showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:a()(Bt,Y),children:(0,L.jsx)(li.w,{renderEnabled:()=>(0,L.jsx)(ai.a,{size:"small",withSnackbar:!1,className:$,showDelayOnHover:1e3}),renderDisabled:()=>(0,L.jsx)($t.uP,{onClick:h,className:$,showDelayOnHover:1e3})})}),(0,L.jsx)("div",{className:Dt,children:(0,L.jsx)($t.dQ,{onClick:r,className:G,showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:ft,children:(0,L.jsx)($t.xJ,{iconSize:N?"medium":"small",onClick:o,className:a()(Y,oe),showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:wt,children:(0,L.jsx)($t.$K,{onClick:c,className:G,showDelayOnHover:1e3})}),(0,L.jsx)("div",{className:Rt,children:(0,L.jsx)($t.s_,{onClick:g,className:ee,showDelayOnHover:1e3})}),!v&&(0,L.jsx)(si,{item:e,onClick:x,className:Y,showDelayOnHover:1e3}),v&&(0,L.jsx)("div",{className:Et,children:(0,L.jsx)(si,{item:e,onClick:x,className:Y,showDelayOnHover:1e3})})]})})),ui=n.memo((({item:e,spec:t,logger:i})=>{const s=e.uri,[a,l]=n.useState("vertical"),o=n.useRef(null),r=(0,me.K)();if(n.useEffect((()=>{if(o.current){const e=o.current.getBoundingClientRect().top;l(e-26<80?"horizontal":"vertical")}}),[r.height]),!s)return null;if((0,ge.N)(e))return(0,L.jsx)(ri,{item:e,spec:t,logger:i,pipWindowSize:r,direction:a,volumeIconRef:o});const c=function(e){if((0,Q.p)(e)||(0,oi.d)(e))return"audio"===e.mediaType||"mixed"===e.mediaType;return!1}(e);return c?(0,L.jsx)(ci,{item:e,spec:t,logger:i,pipWindowSize:r,direction:a,volumeIconRef:o}):(0,L.jsx)(di,{item:e,spec:t,logger:i,pipWindowSize:r,direction:a,volumeIconRef:o})}));var mi=i(32776);const hi=n.memo((({item:e,spec:t,logger:i,onDragEnd:s,onDragStart:a})=>{const l=e.uri,{onClickProgressBar:o,onDragProgressBar:r}=W({uri:l,spec:t,logger:i}),c=(0,n.useCallback)(((e,t)=>{switch(t){case"drag":return r(e);case"hit":return o(e);default:return(0,H.k)(t)}}),[o,r]);return(0,L.jsx)(mi.x,{isPreview:!1,onChange:c,onDragStart:a,onDragEnd:s,timerPlacement:"above"})}));function gi(e){if(!e)return null;return{width:e.innerWidth,height:e.innerHeight}}var xi=i(78167);var pi=i(75990),vi=i(72744),ki=i(74625),Ci=i(65819),Ni=i(33058);const bi=()=>(0,L.jsxs)("svg",{className:At,width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,L.jsx)("line",{x1:"0.823223",y1:"8.82322",x2:"8.82322",y2:"0.823223",stroke:"#727272",strokeWidth:"0.5"}),(0,L.jsx)("line",{x1:"4.82322",y1:"8.82322",x2:"8.82322",y2:"4.82322",stroke:"#727272",strokeWidth:"0.5"})]}),yi=(0,n.memo)((()=>{const e=(0,n.useRef)(null),[t,i]=(0,n.useState)(!1),s=(0,me.K)(),d="SMALL"===s.vertical,u="SMALL"===s.horizontal,[m,h]=(0,n.useState)(null),[g,x]=(0,n.useState)(null),p=(0,n.useRef)(null),[v,k]=(0,n.useState)(!1),{item:C,context:N}=(0,c.L)()??{},b=640,f=(0,l.NC)(Qe.Ln9),w=(0,n.useMemo)((()=>(0,Ge.h)(C?.images??void 0,{desiredSize:b})),[C?.images,b]),S=(0,Ci.z)(w,Ve),P=(0,l.NC)(Qe.a4n);(0,ki.M)(b,Ve);const{spec:R,logger:B}=(0,D.r)(o.w,{});(({spec:e,logger:t})=>{const i=(0,Je.ox)(),s=(0,n.useRef)(null);null===s.current&&(s.current=gi(i)),(0,xi.s)((()=>{const n=gi(i);null!==n&&null!==s.current&&(t.logInteraction(e.dragUiResize2d({startWidthPx:s.current.width,startHeightPx:s.current.height,endWidthPx:n.width,endHeightPx:n.height})),s.current=n)}),{throttleTime:500,leading:!1,trailing:!0})})({logger:B,spec:R}),(({spec:e,logger:t,pipWindow:i})=>{(0,n.useEffect)((()=>{if(!i)return;const n=n=>{if(n.currentTarget===i){const i=e.windowControlsFactory().closeButtonFactory().hitUiHide();t.logInteraction(i)}};return i.addEventListener("pagehide",n),()=>{i.removeEventListener("pagehide",n)}}),[t,i,e])})({logger:B,spec:R,pipWindow:window.documentPictureInPicture?.window??null});const{setVideoPlayerUIFlag:E}=(0,Vt.d)(),[T,M]=(0,n.useState)("");(0,n.useLayoutEffect)((()=>{M(et)}),[]),(0,n.useEffect)((()=>{P&&E(Zt.n.documentPip,!0)}),[P,E]);const{enqueueSnackbar:I}=(0,vi.d)(),O=(0,n.useCallback)((e=>{var t;(t=e.target)&&"object"==typeof t&&"nodeName"in t&&"A"===t.nodeName&&"_blank"!==e.target.target&&(y()?j():I(r.Ru.get("web-player.pip-mini-player.snackbar.link-opened-in-main-window")))}),[I]);((e,t)=>{const i=(0,Je.ox)(),s=t??i;(0,n.useEffect)((()=>{e&&s&&(s.document.title=e)}),[e,s])})(r.Ru.get("web-player.pip-mini-player.window-title"));const A=(0,n.useRef)(null),F=(0,l.NC)(Qe.HYy),z=(0,Ni.t)(R,F),[U,H]=(0,n.useState)(!1),[W,_]=(0,n.useState)(!1),V=(0,n.useRef)(null),Z=(0,n.useRef)(null),K=(0,n.useCallback)((()=>{H(!0),V.current&&clearTimeout(V.current),V.current=setTimeout((()=>{H(!1);const e=qe(A.current,"--mouse-active-over-controls-fadeout-timeout",300,"ms");Z.current&&clearTimeout(Z.current),Z.current=setTimeout((()=>{Z.current=null}),e)}),1e3)}),[]),q=(0,n.useCallback)((()=>{Z.current||H(!1)}),[]),Q=(0,n.useCallback)((()=>{_(!0)}),[]),X=(0,n.useCallback)((()=>{_(!1)}),[]),Y=(0,n.useCallback)((()=>{i(!0)}),[]),J=(0,n.useCallback)((()=>{i(!1)}),[]),G=(0,n.useCallback)((()=>{k(!0)}),[]),$=(0,n.useCallback)((()=>{k(!1),J()}),[J]),ee=(0,n.useCallback)((()=>{if(p.current){const e=p.current.getBoundingClientRect(),t=.5,i=.5,n=e.width*t-10,s=e.width*i-10;h(n),x(s)}}),[]);(0,n.useEffect)((()=>{ee()}),[s.width,ee]),(0,n.useEffect)((()=>{const e=()=>{ee()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[ee]),(0,n.useEffect)((()=>{const e=new ResizeObserver(ee),t=p.current;return t&&e.observe(t),()=>{t&&e.unobserve(t)}}),[ee]);const te=(0,n.useCallback)((e=>{if(!t)return;if(p.current){const t=p.current.getBoundingClientRect(),i=(e.clientX-t.left)/t.width,n=1-i,s=t.width*i-10,a=t.width*n-10;s>40&&a>80&&(h(s),x(a))}}),[t]);if(!C||!N)return null;const ie=function(e){return"video"===e.mediaType||"mixed"===e.mediaType}(C),ne=(0,ge.N)(C),se=!f&&!ne,ae={"--background-color":S,"--background-image-url":`url(${w})`,"--background-image-width":"640px","--background-image-height":"640px","--player-controls-max-width":ne?"140px":"260px",display:"var(--mini-player-display)",cursor:t?"grabbing":"default"};return(0,L.jsxs)(pi.SnackbarProvider,{domRootRef:e,children:[(0,L.jsxs)("div",{ref:A,className:a()("encore-dark-theme","encore-small-devices-theme",$e),style:{"--mini-player-display":"none","--mini-player-drag-display":"none"},children:[(0,L.jsx)(Yt,{}),(0,L.jsxs)("div",{className:a()(ot,rt),style:ae,ref:z,onMouseLeave:$,onMouseEnter:G,children:[se&&(0,L.jsx)(Fe,{spec:R,logger:B}),(0,L.jsx)("div",{className:a()(ct,{[dt]:!ie}),"data-testid":"pip-hover-element",children:(0,L.jsx)("div",{className:ut,id:"document-pip-main-container",children:(0,L.jsx)(zt,{})})}),!d&&(0,L.jsx)(we,{item:C,className:yt,onClick:O}),d?(0,L.jsxs)("div",{ref:p,className:jt,style:{display:"grid",gridTemplateColumns:`${m}px 20px ${g}px`,gridTemplateAreas:"'contextinfo divider playercontrols'"},dir:"ltr",role:"button",tabIndex:0,onMouseMove:te,onMouseUp:J,onMouseLeave:J,children:[(0,L.jsx)("div",{className:It,children:(0,L.jsx)(we,{item:C,className:yt,onClick:O})}),v&&!u&&(0,L.jsx)("div",{className:a()(Lt,{[Mt]:t}),onMouseDown:Y,dir:"ltr",role:"button",tabIndex:0,children:(0,L.jsx)("div",{className:Tt,dir:"ltr"})}),(0,L.jsxs)("div",{className:a()("encore-over-media-set",vt,{[bt]:U||W,[Nt]:(0,ge.N)(C)}),dir:"ltr","data-testid":He,onMouseEnter:K,onMouseMove:K,onMouseLeave:q,children:[(0,L.jsx)("div",{className:a()(kt,Ot),dir:"ltr",children:(0,L.jsx)(ui,{item:C,spec:R,logger:B})}),(0,L.jsx)("div",{className:a()(Ct),dir:"ltr",children:(0,L.jsx)(hi,{item:C,spec:R,logger:B,onDragEnd:X,onDragStart:Q})})]})]}):(0,L.jsxs)("div",{className:a()("encore-over-media-set",vt,{[bt]:U||W,[Nt]:(0,ge.N)(C)}),dir:"ltr","data-testid":He,onMouseEnter:K,onMouseMove:K,onMouseLeave:q,children:[(0,L.jsx)("div",{className:a()(kt),dir:"ltr",children:(0,L.jsx)(ui,{item:C,spec:R,logger:B})}),(0,L.jsx)("div",{className:a()(Ct),dir:"ltr",children:(0,L.jsx)(hi,{item:C,spec:R,logger:B,onDragEnd:X,onDragStart:Q})})]})]}),(0,L.jsx)("div",{className:T,children:(0,L.jsx)(Jt.B,{fadeIn:!1})}),(0,L.jsx)("div",{ref:e,className:lt})]}),(0,L.jsx)(bi,{})]})}))},14654:(e,t,i)=>{i.d(t,{d:()=>n});const n=e=>{const t=e?.metadata?.["dislike-endpoint"]??null;return{dislikeEndpoint:t,shouldShowFeedbackControls:"1"===e?.metadata?.["dislike-feedback-available"]&&null!==t}}},41436:(e,t,i)=>{i.d(t,{a:()=>n.a});var n=i(64842)},32776:(e,t,i)=>{i.d(t,{x:()=>n.x});var n=i(38286)},37656:(e,t,i)=>{i.d(t,{$K:()=>c.$,dQ:()=>r.d,hC:()=>a.h,s_:()=>s.s,uP:()=>o.u,v3:()=>l.v,w0:()=>d.w,xJ:()=>n.x});var n=i(48432),s=i(72704),a=i(57970),l=i(40161),o=i(14361),r=i(16970),c=i(72020),d=i(22840)},51880:(e,t,i)=>{i.d(t,{M:()=>n.M,V:()=>n.V});var n=i(11944)},37375:(e,t,i)=>{i.d(t,{o:()=>w});var n=i(30758),s=i(97500),a=i.n(s),l=i(40748),o=i(36196),r=i(16348),c=i(96296),d=i(75627),u=i(64721),m=i(43494),h=i(59911),g=i(90861),x=i(90089),p=i(21111),v=i(45210),k=i(11716),C=i(1620);const N="VcqCvLW71lZT4kqnCgt0";var b=i(86070);const y=({contextUri:e="",uri:t,id:i=t,className:s,canAdd:d})=>{const{description:v}=(0,p.f)(),y=(0,k.s)(),{spec:j}=(0,C.r)(c.A,{data:{uri:e}}),f=(0,n.useCallback)((()=>{y.logInteraction(j.undoButtonFactory({uri:t}).hitUiHide())}),[y,j,t]),w=(0,n.useCallback)((()=>{y.logInteraction(j.removeRecommendationButtonFactory({uri:t}).hitRemoveRecommendation({recommendedItemUri:t,contextUri:e}))}),[e,y,j,t]),S=(0,n.useCallback)((()=>{y.logInteraction(j.addRecommendationButtonFactory({uri:t}).hitAddToPlaylist({playlist:e,itemToBeAdded:t}))}),[e,y,j,t]),{removeRecommendation:D,addRecommendation:P}=(0,h.t)({uri:t,uid:i,contextUri:e,onUndo:f,onRemoveRecommendation:w,onAddRecommendation:S}),R=(0,n.useCallback)((()=>v?u.Ru.get("web-player.smart-shuffle.add-to-playlist-button",v):u.Ru.get("web-player.smart-shuffle.add-to-playlist-button-fallback")),[v]),B=(0,x.y)();return(0,b.jsxs)("div",{className:a()(N,s),children:[(0,b.jsx)(m.Zp,{label:u.Ru.get("web-player.smart-shuffle.removed-from-recommendations-button"),children:(0,b.jsx)(l.H,{onClick:D,iconOnly:o.P,size:B===g.E.MEDIUM?"medium":"small","aria-label":u.Ru.get("web-player.smart-shuffle.removed-from-recommendations-button"),condensedAll:!0})}),d&&(0,b.jsx)(m.Zp,{label:R(),children:(0,b.jsx)(l.H,{onClick:P,iconOnly:r.P,size:B===g.E.MEDIUM?"medium":"small","aria-label":R(),condensedAll:!0})})]})},j=e=>{const t=(0,v.J)(e.contextUri);return(0,b.jsx)(y,{...e,canAdd:t?.canAdd??!1})},f=e=>(0,b.jsx)(y,{...e,canAdd:!0}),w=e=>e.contextUri&&(0,d.tbX)(e.contextUri)?(0,b.jsx)(j,{...e,contextUri:e.contextUri}):e.contextUri&&(0,d.Z0m)(e.contextUri)?(0,b.jsx)(f,{...e,contextUri:e.contextUri}):(0,b.jsx)(y,{...e,canAdd:!1})},17566:(e,t,i)=>{i.d(t,{X:()=>n.XR});var n=i(62101)},66531:(e,t,i)=>{i.d(t,{D:()=>d});var n=i(30758),s=i(93007);var a=i(60472),l=i(37300),o=i(89494),r=i(64474),c=i(1620);const d=({item:e,onClick:t})=>{const i=(0,o.W)(),{capabilities:{isEnabled:d},isOpen:u,close:m,open:h,canOpen:g}=(0,r.H)(),{videoPlayerMode:x}=(0,a.d)(),{spec:p,logger:v}=(0,c.r)(s.h9,{data:{identifier:x===l.K.cinemaLegacy?s.gw.CINEMA:s.gw.DESKTOP}}),k=(0,n.useCallback)((()=>{let n;d&&(u?(m(),e?.uri&&v.logInteraction(p.pipButtonFactory({uri:e.uri}).hitUiHide()),n="close-picture-in-picture"):(h(),e?.uri&&(({spec:e,logger:t,uri:i})=>{const n=window.documentPictureInPicture;if(!n)return;const s=a=>{setTimeout((()=>{const n=a.window?.innerWidth,s=a.window?.innerHeight;if(!n||!s)return;const l=e.pipButtonFactory({uri:i}).hitUiOpenWindow({widthPx:n,heightPx:s});t.logInteraction(l)}),100),n.removeEventListener("enter",s)};n.addEventListener("enter",s)})({spec:p,logger:v,uri:e.uri}),n="show-picture-in-picture"),t?.(!u,e?.uri),i({type:"click",intent:n,targetUri:e?.uri,itemIdSuffix:"picture-in-picture-toggle"}))}),[m,d,u,e?.uri,v,t,i,h,p]);return{showButton:g,isActive:u,onClick:k}}},93915:(e,t,i)=>{i.d(t,{I:()=>c});var n=i(30758),s=i(5050),a=i(96022);var l=i(32751),o=i(43915),r=i(67526);const c=({uri:e,setFeedbackPath:t,removeFeedbackPath:i,contextUri:c})=>{const d=(0,l.z)(),u=(0,o.m)(),{isPlaying:m}=(0,r.te)(e),h=(0,n.useCallback)((()=>{c&&u.resync(c)}),[c,u]);return{setDislikeFeedback:(0,n.useCallback)((async()=>{t&&(await((e,t,i)=>{const n=t.replace("<reason>","LOCAL_NOT_APPROPRIATE_FOR_CONTEXT").replace("<track-uri>",i);return e.build().withMethod("POST").withHost(a.L1).withPath(n).withEndpointIdentifier("/<feature>/feedback/").send()})(s.n.getInstance(),t,e),h(),m&&d.skipToNext())}),[t,e,h,m,d]),removeDislikeFeedback:(0,n.useCallback)((async()=>{i&&(await((e,t,i)=>{const n=t.replace("<reason>","LOCAL_NOT_APPROPRIATE_FOR_CONTEXT").replace("<track-uri>",i);return e.build().withMethod("DELETE").withHost(a.L1).withPath(n).withEndpointIdentifier("/<feature>/feedback/").send()})(s.n.getInstance(),i,e),h())}),[i,h,e])}}},16096:(e,t,i)=>{i.d(t,{A:()=>n});const n={videoPlayerContainer:"ngkFeIGFyNUaxRspbs5H"}}}]);
//# sourceMappingURL=xpui-pip-mini-player.js.map